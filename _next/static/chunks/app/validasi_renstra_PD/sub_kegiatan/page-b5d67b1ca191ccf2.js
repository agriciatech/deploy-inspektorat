(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{5437:function(e,a,t){Promise.resolve().then(t.bind(t,874))},874:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var r=t(7437),l=t(361),s=t(681);t(9556);var n=t(2265);let i=()=>{let[e,a]=(0,n.useState)([]),[t,r]=(0,n.useState)(""),[s,i]=(0,n.useState)([]),[o,d]=(0,n.useState)(""),[c,u]=(0,n.useState)([]),[h,m]=(0,n.useState)([]),[x,p]=(0,n.useState)([]),[f,g]=(0,n.useState)([]),[w,v]=(0,n.useState)([]),[b,j]=(0,n.useState)([]),y=async()=>{try{let e=await l.Z.get("/formulir2/formulir-tujuan-indikator",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(200===e.status){let a=e.data.data,t=["KA1","KA2","T1","T2","T3","T4","T5"],r=["No","Indikator Sasaran Perangkat Daerah","Kondisi Akhir","Validasi","Catatan",...t.map(e=>"Tahun ".concat(a[e]))],l=["No","Program","Indikator Program","Target",...t.map(e=>"Tahun ".concat(a[e]))],s=["No","Kegiatan","Aksi",...t.map(e=>"Tahun ".concat(a[e]))];j(["No","Indikator Kegiatan"]),console.log("Updated Header Data:",r),v(r),g(l),p(s)}}catch(e){console.log("Error fetching users:",e)}},[N,k]=(0,n.useState)([]),[S,P]=(0,n.useState)(0),[C,D]=(0,n.useState)("");return(0,n.useEffect)(()=>{y()},[]),{detailTahun:e,userSelected:C,setUserSelected:D,detailAllUser:N,setDetailAllUser:k,headerDataIndikatorSasaranPD:w,idUserSelected:S,setIdUserSelected:P,setHeaderDataIndikatorSasaranPD:v,setDetailTahun:a,allSasaran:s,setAllSasaran:i,listSasaranPD:c,setListSasaranPD:u,detailUser:t,headerDataProgram:f,setHeaderDataProgram:g,sasaranSelected:o,setSasaranSelected:d,headerIndikatorSasaran:["No","Indikator Sasaran"],setDetailUser:r,headerSasaranPD:["No","Sasaran Perangkat Daerah"],listProgram:h,setListProgram:m,headerKegiatan:x,headerDataIndikatorKegiatan:b,setHeaderDataIndikatorKegiatan:j}};t(5483);var o=t(4421),d=t(7138),c=t(5097);function u(){var e,a,t;let u=i(),h=async()=>{try{let e=await l.Z.get("/tahun",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});u.setDetailTahun(e.data.data)}catch(e){console.log("Error fetching users:",e)}},m=async()=>{try{let e=await l.Z.get("/user",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});u.setDetailUser(e.data.name)}catch(e){console.log("Error fetching users:",e)}},x=async()=>{try{let e=await l.Z.get("/Sasaran",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});u.setAllSasaran(e.data.data)}catch(e){console.log("Error fetching users:",e)}},p=async()=>{try{let e=await l.Z.get("/formulir7/view/".concat(u.sasaranSelected,"?opd=").concat(u.idUserSelected),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});u.setListSasaranPD(e.data.data),u.setListProgram(e.data.program),g(e.data.checking),v(e.data.chekingvalidasi)}catch(e){console.log("Error fetching users:",e)}},[f,g]=(0,n.useState)([]),[w,v]=(0,n.useState)([]),b=async()=>{try{let e=await l.Z.get("/users?",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});u.setDetailAllUser(e.data.data)}catch(e){console.log("Error fetching users:",e)}};console.log("ini saasaran",u.sasaranSelected),(0,n.useEffect)(()=>{h(),m(),x(),b()},[]),(0,n.useEffect)(()=>{p()},[u.sasaranSelected,,u.idUserSelected]);let j=e=>{var a;let{data:t}=e,l=null===(a=u.headerDataIndikatorKegiatan)||void 0===a?void 0:a.map((e,a)=>"no"===e.toLocaleLowerCase()?{name:e,wrap:!0,selector:(e,a)=>a+1}:"indikator kegiatan"===e.toLocaleLowerCase()?{name:e,wrap:!0,width:"50%",selector:e=>e.IndikatorKegiatan}:"validasi"===e.toLocaleLowerCase()?{name:e,wrap:!0,width:"150px",cell:e=>(0,r.jsx)("div",{className:"flex flex-row items-center justify-start w-full",children:1==e.Validasi?(0,r.jsx)("div",{className:"p-2 bg-green-500 rounded-lg text-white",children:"Sudah Divalidasi"}):1!=e.Validasi&&null!=e.Catatan?(0,r.jsx)("div",{className:"p-2 bg-red-500 rounded-lg text-white",children:"Data Belum Divalidasi Dengan Catatan"}):(0,r.jsx)("div",{className:"p-2 bg-red-500 rounded-lg text-white",children:"Data Belum Divalidasi"})})}:"catatan"===e.toLocaleLowerCase()?{name:e,wrap:!0,width:"150px",cell:e=>(0,r.jsx)("div",{className:"flex flex-row items-center justify-start w-full",children:null===e.Catatan?(0,r.jsx)("div",{className:"p-2 bg-red-500 rounded-lg text-white",children:"Tidak ada data"}):"".concat(e.Catatan)})}:void 0);return(0,r.jsx)("div",{style:{paddingTop:"10px",paddingLeft:"20px"},children:(0,r.jsx)(s.ZP,{columns:l,data:t.IndikatorKegiatan||[],pagination:!0,customStyles:k,responsive:!0})})},y=null===(e=u.headerDataProgram)||void 0===e?void 0:e.map(e=>{switch(e.toLowerCase()){case"no":return{name:e,wrap:!0,width:"5%",cell:(e,a)=>(0,r.jsx)("div",{className:"w-full border-[0.5px] border-slate-200 bg-white h-[103%] px-2 flex items-center justify-between",children:(0,r.jsx)("div",{className:"pr-5 ",children:a+1})})};case"program":return{name:e,wrap:!0,width:"20%",cell:e=>(0,r.jsx)("div",{className:"w-full border-[0.5px] border-slate-200 bg-white h-[103%] px-2 flex items-center justify-between",children:(0,r.jsx)("div",{className:"pr-5 ",children:e.program})})};case"indikator program":return{name:e,wrap:!0,width:"20%",cell:e=>(0,r.jsx)("div",{className:"w-full border-[0.5px] border-slate-200 bg-white h-[103%] px-2 flex items-center justify-between",children:(0,r.jsx)("div",{className:"pr-5 ",children:e.indikator_program})})};case"target":return{name:e,wrap:!0,width:"20%",cell:e=>(0,r.jsx)("div",{className:"w-full border-[0.5px] border-slate-200 bg-white h-[103%] px-2 flex items-center justify-between",children:(0,r.jsx)("div",{className:"pr-5 ",children:e.target})})};default:let[a,t,l]=e.split(" ");return{name:(0,r.jsxs)("div",{className:"flex flex-col w-full items-start text-center",children:[(0,r.jsx)("div",{className:"header w-full",children:t}),(0,r.jsxs)("div",{className:"subHeader flex gap-10 justify-between w-full",children:[(0,r.jsx)("div",{className:"tahun text-center w-full",children:"Rp"}),(0,r.jsx)("div",{className:"tahun text-center w-full",children:"Target"})]})]}),wrap:!0,width:"15%",backgroundeColor:"white",cell:e=>{let a=e.ProgramTahunan.find(e=>e.tahun===t);return"Rp"==l?(0,r.jsx)("div",{children:a?a.rp:"-"}):(0,r.jsxs)("div",{className:"w-full border-[0.5px] border-slate-200 bg-white h-[103%] px-2 flex items-center justify-between",children:[(0,r.jsx)("div",{className:"pr-5 ",children:a?(0,o.b)(Number(a.rp)):"-"})," ",(0,r.jsx)("div",{children:a?a.Target:"-"})]})}}}}),N=u.headerIndikatorSasaran.map(e=>{switch(e.toLowerCase()){case"no":return{name:e,wrap:!0,selector:(e,a)=>a+1};case"indikator sasaran":return{name:e,wrap:!0,selector:e=>e.Indikator_sasaran}}}),k={headCells:{style:{backgroundColor:"#408EFD",color:"white","&:first-child":{borderTopLeftRadius:"1rem"},"&:last-child":{borderTopRightRadius:"1rem"}}}},S=e=>{var a;let{data:t}=e,l=null===(a=u.headerDataIndikatorSasaranPD)||void 0===a?void 0:a.map(e=>{if("no"===e.toLocaleLowerCase())return{name:e,wrap:!0,selector:(e,a)=>a+1};if("indikator sasaran perangkat daerah"===e.toLocaleLowerCase())return{name:e,wrap:!0,width:"20%",selector:e=>e.Indikator_sasaran_pd};if("kondisi akhir"===e.toLocaleLowerCase())return{name:e,wrap:!0,width:"10%",selector:e=>e.KondisiAkhir};{if("validasi"===e.toLocaleLowerCase())return{name:e,wrap:!0,width:"150px",cell:e=>(0,r.jsx)("div",{className:"flex flex-row items-center justify-start w-full",children:1==e.Validasi?(0,r.jsx)("div",{className:"p-2 bg-green-500 rounded-lg text-white",children:"Sudah Divalidasi"}):1!=e.Validasi&&null!=e.Catatan?(0,r.jsx)("div",{className:"p-2 bg-red-500 rounded-lg text-white",children:"Data Belum Divalidasi Dengan Catatan"}):(0,r.jsx)("div",{className:"p-2 bg-red-500 rounded-lg text-white",children:"Data Belum Divalidasi"})})};if("catatan"===e.toLocaleLowerCase())return{name:e,wrap:!0,width:"150px",cell:e=>(0,r.jsx)("div",{className:"flex flex-row items-center justify-start w-full",children:null===e.Catatan?(0,r.jsx)("div",{className:"p-2 bg-red-500 rounded-lg text-white",children:"Tidak ada data"}):"".concat(e.Catatan)})};let a=e.replace("Tahun ","");return{name:e,wrap:!0,selector:e=>{let t=e.Tahunan.find(e=>e.tahun===a);return t?(0,r.jsx)("div",{children:t.Target}):"-"}}}});return(0,r.jsx)("div",{style:{paddingTop:"10px",paddingLeft:"20px"},children:(0,r.jsx)(s.ZP,{columns:l,data:t.IndikatorSasaranPD||[],pagination:!0,responsive:!0,customStyles:k})})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{className:"flex min-h-screen bg-[#FAFAFA] w-full flex-col items-center justify-center m-0",children:(0,r.jsxs)("div",{className:"mt-[10vh] h-full overflow-y-auto w-full items-center flex justify-start pt-5 px-2 flex-col ",children:[(0,r.jsx)("div",{className:"flex flex-col w-full bg-blue-600 p-3 rounded-xl text-white font-bold",children:(0,r.jsxs)("div",{className:"flex w-full justify-start",children:[" ",(0,r.jsx)("table",{className:"table-auto",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Periode"}),(0,r.jsx)("td",{className:"px-1",children:":"}),u.detailTahun.length>0&&(0,r.jsxs)(r.Fragment,{children:[u.detailTahun[0].tahun," ","s/d"," ",u.detailTahun[u.detailTahun.length-1].tahun]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Perangkat Daerah"}),(0,r.jsx)("td",{className:"",children:":"}),(0,r.jsx)("td",{children:u.detailUser})]})]})})]})}),(0,r.jsx)("div",{className:"mt-5 flex w-full py-2",children:(0,r.jsxs)("select",{id:"sasaranSelect",value:u.sasaranSelected,className:"bg-gray-50 border-2 border-gray-400 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>{u.setSasaranSelected(e.target.value)},children:[(0,r.jsx)("option",{value:"",children:"Pilih Sasaran"}),null===(a=u.allSasaran)||void 0===a?void 0:a.map(e=>(0,r.jsx)("option",{value:e.Pk_Sasaran_Id,children:e.Sasaran},e.Pk_Sasaran_Id))]})}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("select",{id:"userSelected",value:u.userSelected,className:"bg-gray-50 border-2 border-gray-400 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>{let a=e.target.value,t=u.detailAllUser.find(e=>e.name===a);t&&(u.setUserSelected(a),u.setIdUserSelected(t.Id))},children:[(0,r.jsx)("option",{className:"text-black",value:"",children:"Pilih User"}),null===(t=u.detailAllUser)||void 0===t?void 0:t.map(e=>(0,r.jsx)("option",{className:"text-black",value:e.name,children:e.name},e.Id))]})}),""===u.sasaranSelected?(0,r.jsx)("div",{className:"mt-4 flex justify-start text-white font-medium text-lg items-center w-full bg-yellow-400 h-16 rounded-lg",children:(0,r.jsx)("h1",{className:"pl-5",children:"Silahkan pilih sasaran terlebih dahulu"})}):(0,r.jsxs)(r.Fragment,{children:[(null==f?void 0:f.length)!=0&&null!=f?(0,r.jsxs)("div",{className:"flex w-[95%] px-10 md:flex-row flex-col my-2 items-center bg-amber-600 rounded-xl",children:[(0,r.jsx)("div",{children:(0,r.jsx)(c.OvZ,{className:"text-9xl text-white"})}),(0,r.jsx)("div",{className:"flex flex-col",children:null==f?void 0:f.map((e,a)=>(0,r.jsxs)("div",{className:"text-white font-medium",children:[a+1,". ",e]},a))})]}):(0,r.jsx)(r.Fragment,{}),(null==w?void 0:w.length)!=0&&null!=w?(0,r.jsxs)("div",{className:"flex w-[95%] px-10 md:flex-row flex-col my-2 items-center bg-amber-600 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex flex-col text-white font-medium justify-center items-center",children:[(0,r.jsx)(c.OvZ,{className:"text-9xl text-white"}),(0,r.jsx)("div",{children:"Validasi"})]}),(0,r.jsx)("div",{className:"flex flex-col",children:null==w?void 0:w.map((e,a)=>(0,r.jsxs)("div",{className:"text-white font-medium",children:[a+1,". ",e]},a))})]}):(0,r.jsx)(r.Fragment,{}),(0,r.jsxs)("div",{className:"mt-5 w-full py-2 px-5",children:[(0,r.jsx)("div",{className:"w-full rounded-lg",children:(0,r.jsxs)("div",{className:"datatables w-full mt-4 box-shadow-2xl rounded-lg",children:[(0,r.jsx)("span",{className:"font-bold p-2",children:"Sasaran"}),(0,r.jsx)(s.ZP,{columns:N,data:u.listSasaranPD||[],responsive:!0,highlightOnHover:!0,expandableRows:!0,pagination:!0,customStyles:k,expandableRowsComponent:e=>{var a;let{data:t}=e,l=null===(a=u.headerSasaranPD)||void 0===a?void 0:a.map(e=>"no"===e.toLocaleLowerCase()?{name:e,wrap:!0,selector:(e,a)=>a+1}:"sasaran perangkat daerah"===e.toLocaleLowerCase()?{name:e,wrap:!0,selector:e=>e.sasaran_pd}:void 0);return(0,r.jsx)("div",{style:{paddingTop:"10px",paddingLeft:"20px"},children:(0,r.jsx)(s.ZP,{columns:l,data:t.ListSasaranPD||[],pagination:!0,expandableRows:!0,customStyles:k,responsive:!0,expandableRowsComponent:S})})}})]})}),(0,r.jsx)("div",{className:"w-full rounded-lg",children:(0,r.jsxs)("div",{className:"datatables w-full mt-4 box-shadow-2xl rounded-lg",children:[(0,r.jsx)("span",{className:"font-bold p-2",children:"Program"}),(0,r.jsx)(s.ZP,{columns:y,data:u.listProgram||[],responsive:!0,expandableRows:!0,pagination:!0,customStyles:k,expandableRowsComponent:e=>{var a;let{data:t}=e,l=null===(a=u.headerKegiatan)||void 0===a?void 0:a.map((e,a)=>{if("no"===e.toLocaleLowerCase())return{name:e,wrap:!0,selector:(e,a)=>a+1};if("kegiatan"===e.toLocaleLowerCase())return{name:e,wrap:!0,selector:e=>e.Kegiatan};if("aksi"===e.toLocaleLowerCase())return{name:e,wrap:!0,width:"10%",cell:e=>(0,r.jsx)("div",{children:(0,r.jsx)(d.default,{className:"bg-blue-500 px-5 py-2 rounded-md text-white font-semibold",href:"/validasi_renstra_PD/sub_kegiatan/detail",onClick:()=>{var a;return localStorage.setItem("detailFormulasi",null===(a=e.Pk_Kegiatan_Id)||void 0===a?void 0:a.toString())},children:"Detail"})})};{let[a,t,l]=e.split(" ");return{name:(0,r.jsxs)("div",{className:"flex flex-col w-full items-start text-center",children:[(0,r.jsx)("div",{className:"header w-full",children:t}),(0,r.jsxs)("div",{className:"subHeader flex gap-10 justify-between w-full",children:[(0,r.jsx)("div",{className:"tahun text-center w-full",children:"Rp"}),(0,r.jsx)("div",{className:"tahun text-center w-full",children:"Target"})]})]}),wrap:!0,width:"20%",backgroundeColor:"white",cell:e=>{var a;let s=null===(a=e.ListDetailInfoIndikatorKegiatanTahun)||void 0===a?void 0:a.find(e=>e.tahun===t);return"Rp"==l?(0,r.jsx)("div",{children:s?null==s?void 0:s.rp:"-"}):(0,r.jsxs)("div",{className:"w-full border-[0.5px] border-slate-200 bg-white h-[103%] px-2 flex items-center justify-between",children:[(0,r.jsx)("div",{className:"pr-5 ",children:s?(0,o.b)(Number(null==s?void 0:s.rp)):"-"})," ",(0,r.jsx)("div",{children:s?null==s?void 0:s.Target:"-"})]})}}}});return(0,r.jsx)("div",{style:{paddingTop:"10px",paddingLeft:"20px"},children:(0,r.jsx)(s.ZP,{columns:l,data:t.kegiatan||[],pagination:!0,expandableRows:!0,customStyles:k,responsive:!0,expandableRowsComponent:j})})}})]})})]})]})]})})})}},361:function(e,a,t){"use strict";t.d(a,{H:function(){return n}});var r=t(2126);let l="",s=r.Z.create({baseURL:"https://inspektorat-be.agriciatech.com/api/v1"}),n=()=>{let e=localStorage.getItem("token");e&&(l=e,s.defaults.headers.common.Authorization="Bearer ".concat(l))};s.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),a.Z=s},4421:function(e,a,t){"use strict";t.d(a,{J:function(){return l},b:function(){return r}});let r=e=>e.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:2}).replace(/,00$/,""),l=e=>e?parseFloat(e.replace(/[^0-9,-]+/g,"").replace(",",".")):0},9556:function(){},5483:function(){},1810:function(e,a,t){"use strict";t.d(a,{w_:function(){return c}});var r=t(2265),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.createContext&&r.createContext(l),n=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach(function(a){var r,l;r=a,l=t[a],(r=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:String(a)}(r))in e?Object.defineProperty(e,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[r]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function c(e){return a=>r.createElement(u,i({attr:d({},e.attr)},a),function e(a){return a&&a.map((a,t)=>r.createElement(a.tag,d({key:t},a.attr),e(a.child)))}(e.child))}function u(e){var a=a=>{var t,{attr:l,size:s,title:o}=e,c=function(e,a){if(null==e)return{};var t,r,l=function(e,a){if(null==e)return{};var t,r,l={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,n),u=s||a.size||"1em";return a.className&&(t=a.className),e.className&&(t=(t?t+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,l,c,{className:t,style:d(d({color:e.color||a.color},a.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==s?r.createElement(s.Consumer,null,e=>a(e)):a(l)}}},function(e){e.O(0,[3582,5706,2126,6713,7138,2971,7023,1744],function(){return e(e.s=5437)}),_N_E=e.O()}]);