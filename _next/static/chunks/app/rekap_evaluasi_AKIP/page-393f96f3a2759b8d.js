(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{1928:function(e,t,l){Promise.resolve().then(l.bind(l,8956))},8956:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var a=l(7437),r=l(681),s=l(2265),n=l(361),i=()=>{let[e,t]=(0,s.useState)([]),[l,a]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[c,o]=(0,s.useState)([]),u=async()=>{try{let e=await n.Z.get("/tahun",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t(e.data.data),console.log("tahun",e.data.data),200==e.status){let t=["No","Nama OPD",...e.data.data.map(e=>"Akumulasi Penilaian ".concat(e.tahun))];a(t)}}catch(e){console.log("Error fetching users:",e)}};return(0,s.useEffect)(()=>{u()},[]),{headerData:l,dataTable:r,setDataTable:i,record:c,setRecord:o}},c=l(5039),o=l(3781),u=l(5922),d=l(710),f=l(6215),h=l(2546),m=()=>{let e=i(),[t,l]=(0,s.useState)(!1),[m,x,g]=(0,u.Y)("/tahun",!1),[p,b,w]=function(e,t,l,a){let[r,i]=(0,s.useState)(),[c,o]=(0,s.useState)(!0),[u,d]=(0,s.useState)(null),[f,h]=(0,s.useState)();(0,s.useEffect)(()=>{null!=a&&h(a)},[a]);let m=async()=>{try{let t=localStorage.getItem("token"),l=(await n.Z.get(e,{headers:{Authorization:"Bearer ".concat(t)}})).data.yearData;i(l)}catch(e){d(e)}finally{o(!1)}};return(0,s.useEffect)(()=>{m()},[f,e]),(0,s.useEffect)(()=>{if(t){let e=setInterval(m,1e3);return console.log("datasss",r),()=>clearInterval(e)}},[m,t]),[r,c,u]}("/inspeksis",!0,0,t),j=async()=>{try{let t=await n.Z.get("/inspeksis",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});e.setDataTable(t.data.data),e.setRecord(t.data.data)}catch(e){console.log("Error fetching users:",e)}};(0,s.useEffect)(()=>{j()},[]),(0,s.useEffect)(()=>{},[e.record]);let[v,y]=(0,s.useState)(null),[N,k,S]=(0,c.c)("generateinspeksiutama/".concat(v),!1,1e3,t),[O,E]=(0,s.useState)(!1),P=[{name:"Nomor",selector:(e,t)=>(null!=t?t:0)+1,sortable:!0,wrap:!0,width:"10%"},{name:"Nama PD",selector:e=>e.namaOPD,sortable:!0,wrap:!0},{name:(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full justify-between items-start text-center py-2",children:[(0,a.jsx)("div",{className:"header w-full",children:"Kondisi Awal"}),(0,a.jsx)("div",{className:"subHeader flex gap-3 justify-between w-full",children:m.slice(0,2).map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col text-center justify-end items-center w-full mt-2",children:[(0,a.jsx)("div",{className:"tahun text-center w-full",children:e.tahun}),(0,a.jsxs)("div",{className:"mt-2 nilai-kategori flex w-full gap-2 justify-between items-center text-center",children:[(0,a.jsx)("p",{className:"w-full",children:"Nilai"}),(0,a.jsx)("p",{className:"w-full",children:"Kategori"})]})]},t))})]}),cell:e=>(0,a.jsx)("div",{className:"icon flex gap-5 justify-between items-start  w-full text-center ",children:e.tahunData.slice(0,2).map((e,t)=>(0,a.jsxs)("div",{className:"flex text-center justify-end items-center w-full",children:[(0,a.jsx)("div",{className:"w-full",children:e.Inspeksi.nilai}),(0,a.jsx)("div",{className:"w-full",children:e.Inspeksi.kategori})]},t))}),width:"20%",wrap:!0},{name:(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full justify-between items-start text-center ",children:[(0,a.jsx)("div",{className:"header w-full",children:"Target Capaian Kerja"}),(0,a.jsx)("div",{className:"subHeader flex gap-3 justify-between w-full",children:m.slice(2).map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col text-center justify-end items-center w-full mt-2",children:[(0,a.jsx)("div",{className:"tahun text-center w-full",children:e.tahun}),(0,a.jsxs)("div",{className:"mt-2 nilai-kategori flex w-full gap-2 justify-between items-center text-center",children:[(0,a.jsx)("p",{className:"w-full",children:"Nilai"}),(0,a.jsx)("p",{className:"w-full",children:"Kategori"})]})]},t))})]}),cell:e=>(0,a.jsx)("div",{className:"icon flex gap-5 justify-between items-start  w-full text-center ",children:e.tahunData.slice(2).map((e,t)=>(0,a.jsxs)("div",{className:"flex text-center justify-end items-center w-full",children:[(0,a.jsx)("div",{className:"w-full",children:e.Inspeksi.nilai}),(0,a.jsx)("div",{className:"w-full",children:e.Inspeksi.kategori})]},t))}),width:"50%",wrap:!0}],C=(e,t)=>{let l=parseInt(e.target.value,10);y(v),window.open("".concat("https://inspektorat-be.agriciatech.com","/").concat(N),"_blank"),console.log("option ".concat(t),l)};return console.log(e.record),(0,a.jsx)("main",{className:"flex min-h-screen bg-[#FAFAFA] w-full flex-col items-center justify-center m-0  ",children:(0,a.jsxs)("div",{className:"mt-[10vh] overflow-y-auto w-full items-center flex h-full flex-col ",children:[(0,a.jsx)(d.Z,{isVisibleSmall:O,setIsVisibleSmall:E,onCloseSmall:()=>E(!1),title:"Unduh Nota Rekapitulasi",children:(0,a.jsxs)("div",{className:"p-5 flex flex-col gap-3",children:[(0,a.jsxs)("p",{className:"p-2 font-bold text-center w-full",children:["Silakan Pilih Tahun Untuk Ekstrak Inspeksi Utama"," "]}),(0,a.jsx)(f.Z,{dataComponent:(0,a.jsx)(h.Z,{options:m,optionLabel:e=>e.tahun.toString(),defaultValue:"",optionValue:e=>e.Pk_Tahun_Id,onChange:e=>C(e,"tahun"),defaultText:"Pilih Tahun",label:"Pilih Tahun",className:"w-full"}),text:"Memuat dropdown data tahun...",error:g,loading:x})]})}),(0,a.jsxs)("div",{className:"lg:px-8 px-3 w-full h-full",children:[(0,a.jsx)("div",{className:"w-full justify-between items-center py-7 flex flex-row",children:(0,a.jsxs)("div",{className:"flex w-full flex-col xl:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"relative bg-blue-500 w-full xl:w-[90%] p-10 px-4 rounded-md",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 start-0 flex items-center p-7 pointer-events-none",children:(0,a.jsx)("svg",{className:"w-4 h-4  text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),(0,a.jsx)("input",{type:"search",onChange:t=>{let{value:l}=t.target,a=e.dataTable.filter(e=>e.namaOPD.toLowerCase().includes(l.toLowerCase()));e.setRecord(a)},id:"default-search",className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search..."})]}),(0,a.jsxs)("div",{className:"export-doc xl:w-[10%] bg-blue-500 hover:bg-blue-700 p-3 rounded-lg text-white flex flex-col justify-center items-center font-bold cursor-pointer transition-colors duration-300",onClick:function(){E(!0)},children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)(o.TQP,{className:"w-full",size:70})}),(0,a.jsx)("p",{className:"text-wrap text-center text-sm",children:"Exstrak Akumulasi"})]})]})}),(0,a.jsx)(r.ZP,{columns:P,data:e.record,pagination:!0,subHeaderComponent:!0,responsive:!0,highlightOnHover:!0,customStyles:{headCells:{style:{backgroundColor:"#408EFD",color:"white","&:first-child":{borderTopLeftRadius:"1rem"},"&:last-child":{borderTopRightRadius:"1rem"}}}}}),(0,a.jsxs)("div",{className:"relative overflow-x-auto mt-5 font-bold mb-10",children:[(0,a.jsx)("p",{children:"Rata Rata Akumulasi Penilaian Evaluasi Akip "}),(0,a.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 mb-10",children:[(0,a.jsx)("thead",{className:"text-xs text-white uppercase dark:bg-gray-700 dark:text-gray-400 bg-blue-500",children:(0,a.jsx)("tr",{children:null==p?void 0:p.map(e=>(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:e.tahun},e.tahunId))})}),(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:null==p?void 0:p.map(e=>(0,a.jsx)("td",{className:"px-6 py-4 text-center",children:e.Average},e.tahunId))})})]})]})]})]})})}},6215:function(e,t,l){"use strict";var a=l(7437);l(2265),t.Z=e=>{let{loading:t,error:l,dataComponent:r,text:s}=e;return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{className:"bg-slate-500 h-full min-h-[300px] text-white animate-pulse w-full text-sm p-2 rounded-lg flex justify-center items-center text-center mb-5",children:s||"Loading Data..."}):l?(0,a.jsxs)("div",{className:"text-red-700 font-bold text-lg",children:["Error: ",l.message]}):(0,a.jsx)(a.Fragment,{children:r})})}},2546:function(e,t,l){"use strict";var a=l(7437);l(2265),t.Z=e=>{let{options:t,optionLabel:l,optionValue:r,onChange:s,defaultValue:n="",defaultText:i="Pilih ...",disabled:c,className:o,label:u}=e;return console.log("defaul value",n),(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,a.jsx)("label",{htmlFor:i,children:u}),(0,a.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(o),onChange:s,defaultValue:n,disabled:c,id:i,children:[(0,a.jsx)("option",{value:"",disabled:!0,id:i,children:i}),null==t?void 0:t.map(e=>(0,a.jsx)("option",{value:r(e),children:l(e)},r(e)))]})]})}},6409:function(e,t,l){"use strict";var a=l(2265);t.Z=()=>{let[e,t]=(0,a.useState)(!1);return{modal:{isVisibleSmall:e,setIsVisibleSmall:t,onCloseSmall:()=>t(!1)},visible:e,setVisible:t}}},710:function(e,t,l){"use strict";var a=l(7437),r=l(6409),s=l(5097);t.Z=e=>{let{isVisibleSmall:t,setIsVisibleSmall:l,onCloseSmall:n,children:i,title:c}=e;return(0,r.Z)(),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"\n          ".concat(t?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50  h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,a.jsx)("div",{onClick:()=>n(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"}),(0,a.jsxs)("div",{className:" h-screen flex lg:w-[40%] w-full flex-col ",children:[(0,a.jsx)("div",{onClick:()=>n(),className:"md:h-[20%] h-[10%]  w-full"}),(0,a.jsxs)("div",{className:"h-full relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black",children:[(0,a.jsxs)("div",{onClick:()=>n(),className:"z-10 h-[10%] flex justify-between items-center p-3 cursor-pointer rounded-md bg-blue-500 text-white w-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:c}),(0,a.jsx)(s.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,a.jsx)("div",{className:"overflow-y-auto",children:i})]}),(0,a.jsx)("div",{onClick:()=>n(),className:"md:h-[20%] h-[10%]  w-full"})]}),(0,a.jsx)("div",{onClick:()=>n(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"})]})})}},361:function(e,t,l){"use strict";l.d(t,{H:function(){return n}});var a=l(2126);let r="",s=a.Z.create({baseURL:"https://inspektorat-be.agriciatech.com/api/v1"}),n=()=>{let e=localStorage.getItem("token");e&&(r=e,s.defaults.headers.common.Authorization="Bearer ".concat(r))};s.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),t.Z=s},5922:function(e,t,l){"use strict";l.d(t,{Y:function(){return s}});var a=l(2265),r=l(361);function s(e,t,l){let[s,n]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[o,u]=(0,a.useState)(null),[d,f]=(0,a.useState)();(0,a.useEffect)(()=>{null!=l&&f(l)},[l]);let h=async()=>{c(!0);try{let t=localStorage.getItem("token"),l=await r.Z.get(e,{headers:{Authorization:"Bearer ".concat(t)}});n(l.data.data),u(null)}catch(e){u(e)}finally{c(!1)}};return(0,a.useEffect)(()=>{if(t){let e=setInterval(h,1e3);return()=>{clearInterval(e)}}h()},[e,t]),(0,a.useEffect)(()=>{h()},[d]),[s,i,o]}},5039:function(e,t,l){"use strict";l.d(t,{c:function(){return s}});var a=l(2265),r=l(361);function s(e,t,l,s){let[n,i]=(0,a.useState)(),[c,o]=(0,a.useState)(!0),[u,d]=(0,a.useState)(null),[f,h]=(0,a.useState)();(0,a.useEffect)(()=>{null!=s&&h(s)},[s]);let m=async()=>{try{let t=localStorage.getItem("token"),l=await r.Z.get(e,{headers:{Authorization:"Bearer ".concat(t)}}),a=l.data.data?l.data.data:l.data;i(a),console.log(n)}catch(e){d(e)}finally{o(!1)}};return(0,a.useEffect)(()=>{m()},[f,e]),(0,a.useEffect)(()=>{if(t){let e=setInterval(m,l);return console.log("datasss",n),()=>clearInterval(e)}},[m,t,e]),[n,c,u]}},1810:function(e,t,l){"use strict";l.d(t,{w_:function(){return u}});var a=l(2265),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=a.createContext&&a.createContext(r),n=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}function c(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function o(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?c(Object(l),!0).forEach(function(t){var a,r;a=t,r=l[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):c(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}function u(e){return t=>a.createElement(d,i({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,l)=>a.createElement(t.tag,o({key:l},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var l,{attr:r,size:s,title:c}=e,u=function(e,t){if(null==e)return{};var l,a,r=function(e,t){if(null==e)return{};var l,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)l=s[a],t.indexOf(l)>=0||(r[l]=e[l]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}(e,n),d=s||t.size||"1em";return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:l,style:o(o({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==s?a.createElement(s.Consumer,null,e=>t(e)):t(r)}}},function(e){e.O(0,[5706,1779,2126,6713,2971,7023,1744],function(){return e(e.s=1928)}),_N_E=e.O()}]);