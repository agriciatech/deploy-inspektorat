(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{6849:function(e,s,t){Promise.resolve().then(t.bind(t,9346))},6463:function(e,s,t){"use strict";var a=t(1169);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},9346:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(7437),r=t(2265),n=t(9343),l=t(7138),o=t(5447),i=t(6463),c=t(3580);t(4193);var u=t(361);function d(){let{register:e,handleSubmit:s,formState:{errors:t}}=(0,n.cI)(),d=(0,i.useRouter)(),[m,p]=(0,r.useState)(""),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{g.current&&g.current.focus()},[]);let h=async e=>{(0,u.H)();let{username:s,password:t}=e;try{let s=await u.Z.post("/login",e);200===s.status&&(d.push("/"),p(""),c.Am.success("Login Sukses!",{position:"top-right"}),localStorage.setItem("token",s.data.accesstoken),localStorage.setItem("roleId",s.data.roleId))}catch(e){if(e.response&&401===e.response.status){let e="Username atau password salah atau role belum diberikan admin, mohon konfirmasi ke admin untuk diberikan role terlebih dahulu";p(e),c.Am.error(e,{position:"top-right"})}else if(e.response&&403===e.response.status){let e="User tidak aktif atau user tidak memiliki role, silahkan hubungi admin";p(e),c.Am.error(e,{position:"top-right"})}else{console.log("Status respons lainnya:",e.message);let s="Login gagal!,  ".concat(e.message);p(s),c.Am.error(s,{position:"top-right"})}}};return(0,a.jsxs)("div",{className:"flex flex-col items-center w-100",children:[m&&(0,a.jsx)("p",{className:"message bg-red-400 text-white p-2 text-sm mb-3 rounded-lg text-center",children:m})," ",(0,a.jsxs)("form",{className:"flex flex-col gap-4 w-full",onSubmit:s(h),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block mb-1 required",children:"Username"}),(0,a.jsx)("input",{type:"text",id:"username",placeholder:"Enter your username",...e("username",{required:"Username is required."}),className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(t.username?"border-red-500":"border-gray-300")}),t.username&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:t.username.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block mb-1 required",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",placeholder:"Enter your password",...e("password",{required:"Password is required."}),className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(t.password?"border-red-500":"border-gray-300")}),t.password&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:t.password.message})]}),(0,a.jsxs)("div",{className:"button flex  gap-3 justify-between items-center",children:[(0,a.jsx)(o.Z,{text:"Login",className:""}),(0,a.jsx)("div",{className:"forgot-password-link",children:(0,a.jsx)(l.default,{href:"/forgot_password",children:(0,a.jsx)("p",{className:"text-primary-variant",children:"Forgot password?"})})})]})]})]})}var m=t(8507);function p(){return(0,i.usePathname)(),(0,m.R)(),(0,a.jsxs)("main",{className:"flex z-50 h-[100vh] flex-col lg:flex-row items-center justify-between",children:[(0,a.jsxs)("div",{className:"hidden image-login-page lg:w-[65%] h-full relative lg:flex justify-center",children:[(0,a.jsx)("img",{src:"/login-page.png",className:"bg-cover w-full",alt:"Background Inspektorat Lampung Selatan"}),(0,a.jsxs)("div",{className:"overlay absolute left-[10%] inset-0 flex flex-col justify-between p-16 xl:w-[80%] items-center",children:[(0,a.jsx)("header",{className:"heading",children:(0,a.jsx)("h1",{className:"text-white text-center bg-black p-8 rounded-[30px] bg-opacity-45 text-4xl font-bold font-poppins",children:"WELCOME TO SISTEM EVALUASI SAKIP BERBASIS APLIKASI"})}),(0,a.jsxs)("footer",{className:"footer text-white bg-black w-full flex justify-center items-center p-8 rounded-[30px] bg-opacity-45 gap-4 text-xl",children:[(0,a.jsx)("img",{src:"/lamsel.png",alt:"Logo Lampung Selatan",width:30}),(0,a.jsx)("h4",{children:"Inspektorat Lampung Selatan"})]})]})]}),(0,a.jsxs)("div",{className:"form-login w-full lg:w-[35%] h-full p-10 flex flex-col gap-8 relative items-center justify-center xl:justify-start",children:[(0,a.jsx)("div",{className:"background-image absolute inset-0 lg:hidden",children:(0,a.jsx)("img",{src:"/login-page.png",alt:"Background Inspektorat Lampung Selatan",className:"bg-cover"})}),(0,a.jsxs)("div",{className:"container-form flex flex-col gap-5 bg-white bg-opacity-90 p-5 rounded-md",children:[(0,a.jsxs)("div",{className:"heading-form-login inset-0 flex flex-col justify-center items-center gap-4 ",children:[(0,a.jsx)("img",{src:"/lamsel.png",alt:"Logo Lampung Selatan",width:100}),(0,a.jsx)("div",{className:"text-heading-form-login text-center text-xl ",children:(0,a.jsx)("h3",{children:"Inspektorat Lampung Selatan"})}),(0,a.jsx)("div",{className:"page-name",children:(0,a.jsx)("h4",{className:"text-primary-variant",children:"Log In"})})]}),(0,a.jsx)(d,{})]})]})]})}},5447:function(e,s,t){"use strict";var a=t(7437);t(2265),s.Z=e=>{let{text:s,className:t}=e;return(0,a.jsx)("button",{className:"bg-blue-500 font-button hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-sm transition-colors ".concat(t),type:"submit",children:s})}},8507:function(e,s,t){"use strict";t.d(s,{R:function(){return n}});var a=t(2265),r=t(6463);let n=()=>{let e=(0,r.useRouter)(),s=localStorage.getItem("token"),t=(0,r.usePathname)();(0,a.useEffect)(()=>{null!==s?"/login"==t?e.push("/"):e.push(t):e.push("/login")},[e,s])}},361:function(e,s,t){"use strict";t.d(s,{H:function(){return l}});var a=t(2126);let r="",n=a.Z.create({baseURL:"https://inspektorat-dev.agriciatech.com/api/v1"}),l=()=>{let e=localStorage.getItem("token");e&&(r=e,n.defaults.headers.common.Authorization="Bearer ".concat(r))};n.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),s.Z=n}},function(e){e.O(0,[392,2126,9343,3580,8811,2971,7023,1744],function(){return e(e.s=6849)}),_N_E=e.O()}]);