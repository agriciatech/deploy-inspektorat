(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2236],{5710:function(e,t,a){Promise.resolve().then(a.bind(a,4471))},4471:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(7437),n=a(5039),i=a(2265),s=a(2546),u=a(6215),r=a(5922),o=e=>{let{onChange:t}=e;localStorage.getItem("roleId");let[a,o,d]=(0,r.Y)("/formulir1/",!1),[c,f]=(0,i.useState)(null),[x,h]=(0,i.useState)(null),[m,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[b,v]=(0,i.useState)(null),[k,_]=(0,i.useState)(),[w,S]=(0,i.useState)(),[N,I]=(0,i.useState)();(0,i.useEffect)(()=>{if(void 0!==m&&C){var e;let t=null===(e=C.ListTujuan)||void 0===e?void 0:e.find(e=>e.Pk_Tujuan_Id===m);S(null==t?void 0:t.list_kondisi_indikator_tujuan)}if(void 0!==p&&m){let e=null==w?void 0:w.find(e=>e.PK_Indikator_Tujuan_Id===p);I(null==e?void 0:e.ListSasaran)}void 0!==b&&console.log("sasaran ID",b)},[c,x,m,p,N,b]);let[C,y,P]=(0,n.c)("/formulir4/view/".concat(x),!1),T=(e,l)=>{let n=parseInt(e.target.value,10);if("visi"===l){f(n);let e=null==a?void 0:a.find(e=>e.id_visi===n);_(e&&e.misis||[]),t(n,l),t(n,"misi"),t(n,"tujuan"),t(n,"indikator_tujuan")}else"misi"===l?(h(n),t(n,l),t(n,"tujuan"),t(n,"indikator_tujuan")):"tujuan"===l?(j(n),t(n,l)):"indikator_tujuan"===l?(g(n),t(n,l)):"sasaran_indikator_tujuan"===l&&(v(n),t(n,l))};return(0,l.jsxs)("div",{className:"flex gap-3 flex-col xl:flex-row ",children:[(0,l.jsx)(u.Z,{dataComponent:(0,l.jsx)(s.Z,{options:a,optionLabel:e=>e.visi,optionValue:e=>e.id_visi,label:"Pilih Visi",onChange:e=>T(e,"visi"),onClick:e=>T(e,"visi"),defaultText:"Pilih Visi"}),text:"Memuat Data Visi...",error:d,loading:o}),(0,l.jsx)(u.Z,{dataComponent:(0,l.jsx)(s.Z,{disabled:!c,options:k,label:"Pilih Misi",optionLabel:e=>e.misi,optionValue:e=>e.id_misi,onChange:e=>T(e,"misi"),onClick:e=>T(e,"misi"),defaultText:"Pilih Misi"}),text:"Memuat Data Misi...",error:d,loading:o}),(0,l.jsx)(u.Z,{dataComponent:(0,l.jsx)(s.Z,{label:"Pilih Tujuan",disabled:!x,options:null==C?void 0:C.ListTujuan,optionLabel:e=>e.tujuan,optionValue:e=>e.Pk_Tujuan_Id,onChange:e=>T(e,"tujuan"),onClick:e=>T(e,"tujuan"),defaultText:"Pilih Tujuan"}),text:"Memuat Data Tujuan...",error:d,loading:o}),(0,l.jsx)(u.Z,{dataComponent:(0,l.jsx)(s.Z,{disabled:!m,options:w,label:"Pilih Indikator Tujuan",optionLabel:e=>e.indikator_tujuan,optionValue:e=>e.PK_Indikator_Tujuan_Id,onChange:e=>T(e,"indikator_tujuan"),onClick:e=>T(e,"indikator_tujuan"),defaultText:"Pilih Indikator Tujuan"}),text:"Memuat Data Indikator Tujuan...",error:d,loading:o}),(0,l.jsx)(u.Z,{dataComponent:(0,l.jsx)(s.Z,{label:"Pilih Sasaran",disabled:!p,options:N,optionLabel:e=>e.Sasaran,optionValue:e=>e.Pk_Sasaran_Id,onChange:e=>T(e,"sasaran_indikator_tujuan"),onClick:e=>T(e,"sasaran_indikator_tujuan"),defaultText:"Pilih Sasaran Indikator Tujuan"}),text:"Memuat Data Sasaran Indikator Tujuan...",error:d,loading:o})]})},d=a(57),c=()=>{let[e,t]=(0,i.useState)(!1),[a,s]=(0,i.useState)(null),c=new Date().getFullYear(),[f,x]=(0,i.useState)(c),h=a=>{x(a.tahun),t(!e)},[m,j,p]=(0,n.c)("/user",!1,1e3,e),[g,b,v]=(0,r.Y)("/tahun",!1),k=g.slice(2).map(e=>(0,l.jsx)(d.Z,{text:e.tahun,active:f==e.tahun,onClick:()=>h(e)},e.Pk_Tahun_Id)),[_,w,S]=(0,r.Y)("/formulir8/view/".concat(a,"?tahun-lalu=").concat(f-1,"&tahun-target=").concat(f),!1,e);return(0,l.jsx)("main",{className:"flex bg-[#FAFAFA] w-full flex-col items-start justify-start m-0 p-3",children:(0,l.jsxs)("div",{className:"mt-[10vh] overflow-y-auto w-full items-start flex flex-col justify-center h-full gap-3",children:[(0,l.jsx)("div",{className:"p-4 w-full mb-0",children:(0,l.jsx)("div",{className:"card p-4 w-full rounded-xl",children:(0,l.jsxs)("div",{className:"information flex flex-col w-full bg-blue-600 p-3 rounded-xl text-white font-bold",children:[(0,l.jsxs)("div",{className:"periode flex w-full",children:[(0,l.jsx)("p",{className:"xl:w-[20%] w-full",children:"Periode"}),(0,l.jsx)("p",{className:"",children:": "}),(0,l.jsx)("p",{className:"px-2 w-full",children:"2020 s/d 2026"})]}),(0,l.jsxs)("div",{className:"periode flex w-full",children:[(0,l.jsx)("p",{className:"xl:w-[20%] w-full",children:"Perangkat Daerah"}),(0,l.jsx)("p",{className:"",children:": "}),(0,l.jsx)("p",{className:"px-2 w-full",children:null==m?void 0:m.name})]})]})})}),(0,l.jsx)("div",{className:"flex flex-col select-area bg-success w-full mb-0 mt-0 p-4 pt-0",children:(0,l.jsx)(o,{onChange:(e,t)=>{"sasaran_indikator_tujuan"===t&&(console.log("sasaran",e),s(e))}})}),(0,l.jsx)("div",{className:"tahuns flex justify-center item-center w-full mb-2",children:(0,l.jsx)(u.Z,{loading:b,error:v,dataComponent:(0,l.jsx)("div",{className:"xl:flex grid grid-cols-3 gap-2 justify-center item-center",children:k})})})]})})}},57:function(e,t,a){"use strict";var l=a(7437);a(2265),t.Z=e=>{let{text:t,onClick:a,active:n,className:i}=e,s="transition-all bg-blue-500 font-button hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full ".concat(n?"bg-emerald-500 shadow-2xl opacity-100":""," focus:bg-emerald-500 ").concat(i);return(0,l.jsx)("button",{className:s,type:"button",role:"button",onClick:a,children:t})}},6215:function(e,t,a){"use strict";var l=a(7437);a(2265),t.Z=e=>{let{loading:t,error:a,dataComponent:n,text:i}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)("div",{className:"bg-slate-500 h-full min-h-[300px] text-white animate-pulse w-full text-sm p-2 rounded-lg flex justify-center items-center text-center mb-5",children:i||"Loading Data..."}):a?(0,l.jsxs)("div",{className:"text-red-700 font-bold text-lg",children:["Error: ",a.message]}):(0,l.jsx)(l.Fragment,{children:n})})}},2546:function(e,t,a){"use strict";var l=a(7437);a(2265),t.Z=e=>{let{options:t,optionLabel:a,optionValue:n,onChange:i,onClick:s,defaultValue:u="",defaultText:r="Pilih ...",disabled:o,className:d,label:c}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,l.jsx)("label",{htmlFor:r,children:c}),(0,l.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(d),onChange:i,onClick:s,defaultValue:u,disabled:o,id:r,children:[(0,l.jsx)("option",{value:"",disabled:!0,id:r,children:r}),null==t?void 0:t.map(e=>(0,l.jsx)("option",{value:n(e),children:a(e)},n(e)))]})]})}},361:function(e,t,a){"use strict";a.d(t,{H:function(){return s}});var l=a(2126);let n="",i=l.Z.create({baseURL:"https://inspektorat-be.agriciatech.com/api/v1"}),s=()=>{let e=localStorage.getItem("token");e&&(n=e,i.defaults.headers.common.Authorization="Bearer ".concat(n))};i.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),t.Z=i},5922:function(e,t,a){"use strict";a.d(t,{Y:function(){return i}});var l=a(2265),n=a(361);function i(e,t,a){let[i,s]=(0,l.useState)([]),[u,r]=(0,l.useState)(!0),[o,d]=(0,l.useState)(null),[c,f]=(0,l.useState)();(0,l.useEffect)(()=>{null!=a&&f(a)},[a]);let x=async()=>{r(!0);try{let t=localStorage.getItem("token"),a=await n.Z.get(e,{headers:{Authorization:"Bearer ".concat(t)}});s(a.data.data),d(null)}catch(e){d(e)}finally{r(!1)}};return(0,l.useEffect)(()=>{if(t){let e=setInterval(x,1e3);return()=>{clearInterval(e)}}x()},[e,t]),(0,l.useEffect)(()=>{x()},[c]),[i,u,o]}},5039:function(e,t,a){"use strict";a.d(t,{c:function(){return i}});var l=a(2265),n=a(361);function i(e,t,a,i){let[s,u]=(0,l.useState)(),[r,o]=(0,l.useState)(!0),[d,c]=(0,l.useState)(null),[f,x]=(0,l.useState)();(0,l.useEffect)(()=>{null!=i&&x(i)},[i]);let h=async()=>{try{let t=localStorage.getItem("token"),a=await n.Z.get(e,{headers:{Authorization:"Bearer ".concat(t)}}),l=a.data.data?a.data.data:a.data;u(l),console.log(s)}catch(e){c(e)}finally{o(!1)}};return(0,l.useEffect)(()=>{h()},[f,e]),(0,l.useEffect)(()=>{if(t){let e=setInterval(h,a);return console.log("datasss",s),()=>clearInterval(e)}},[h,t,e]),[s,r,d]}}},function(e){e.O(0,[2126,2971,7023,1744],function(){return e(e.s=5710)}),_N_E=e.O()}]);