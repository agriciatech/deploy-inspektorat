(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2975],{7972:function(e,l,t){Promise.resolve().then(t.bind(t,5079))},5079:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return v}});var a=t(7437),s=t(5039),r=t(2265),i=t(6215),n=t(5922),c=t(681),o=t(8981),d=t(710),u=t(57),m=t(4815),x=t(9343),f=t(9938),h=e=>{let{data:l,onCloseModal:t}=e,{register:s,handleSubmit:i,formState:{errors:n},reset:c,setValue:o}=(0,x.cI)(),[d,,u,m]=(0,f.Y)("/formulir12/".concat(null==l?void 0:l.id),"put");(0,r.useEffect)(()=>{l&&(o("tw1",l.tw1),o("tw2",l.tw2),o("tw3",l.tw3),o("tw4",l.tw4))},[l,o]);let h=async e=>{let l={tw1:Number(e.tw1),tw2:Number(e.tw2),tw3:Number(e.tw3),tw4:Number(e.tw4)};await m(l),c(),t&&t()},p=e=>e&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:e});return(0,a.jsx)("div",{className:"flex mt-2 w-full h-full justify-center items-center",children:(0,a.jsx)("div",{className:"content px-5 py-3 pt-0 flex flex-col justify-center items-center w-full",children:(0,a.jsx)("div",{className:"konten flex flex-col justify-center items-center w-full p-3 pt-0",children:(0,a.jsxs)("form",{onSubmit:i(h),className:"w-full flex flex-col gap-1",children:[[{type:"text",name:"tw1",label:"Capaian Triwulan 1",inputMode:"numeric",placeholder:"Capaian Triwulan 1...",validation:{required:"Capaian Triwulan 1 required.",pattern:{value:/^\d+(\.\d+)?$/,message:"Capaian Triwulan 1 harus berupa nomor desimal atau bulat."}}},{type:"text",name:"tw2",label:"Capaian Triwulan 2",inputMode:"numeric",placeholder:"Capaian Triwulan 2...",validation:{required:"Capaian Triwulan 2 required.",pattern:{value:/^\d+(\.\d+)?$/,message:"Capaian Triwulan 2 harus berupa nomor desimal atau bulat."}}},{type:"text",name:"tw3",label:"Capaian Triwulan 3",inputMode:"numeric",placeholder:"Capaian Triwulan 3...",validation:{required:"Capaian Triwulan 3 required.",pattern:{value:/^\d+(\.\d+)?$/,message:"Capaian Triwulan 3 harus berupa nomor desimal atau bulat."}}},{type:"text",name:"tw4",label:"Capaian Triwulan 4",inputMode:"numeric",placeholder:"Capaian Triwulan 4...",validation:{required:"Capaian Triwulan 4 required.",pattern:{value:/^\d+(\.\d+)?$/,message:"Capaian Triwulan 4 harus berupa nomor desimal atau bulat."}}}].map(e=>{var l;return(0,a.jsxs)("div",{className:"mb-1 w-full",children:[(0,a.jsx)("label",{htmlFor:e.name,className:"block mb-1 required",children:e.label}),"textarea"===e.type?(0,a.jsx)("textarea",{id:e.name,placeholder:e.placeholder,rows:10,...s(e.name,e.validation),className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(n[e.name]?"border-red-500":"border-gray-300")}):(0,a.jsx)("input",{type:e.type,id:e.name,inputMode:e.inputMode,placeholder:e.placeholder,...s(e.name,e.validation),className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(n[e.name]?"border-red-500":"border-gray-300")}),p(null===(l=n[e.name])||void 0===l?void 0:l.message)]},e.name)}),(0,a.jsx)("button",{type:"submit",className:"border bg-blue-500 text-white px-4 py-2 rounded-md mt-4",children:"Simpan"})]})})})})};let p=[{name:"No",selector:(e,l)=>l?1+l:1,sortable:!0,wrap:!0,width:"100px"},{name:(0,a.jsx)("div",{className:"w-full text-start",children:"Deskripsi"}),selector:(e,l)=>null==e?void 0:e.deskripsi,sortable:!0,wrap:!0},{name:(0,a.jsx)("div",{className:"w-full text-start",children:"Definisi Operasional"}),selector:(e,l)=>null==e?void 0:e.formulasi,sortable:!0,wrap:!0},{name:(0,a.jsx)("div",{className:"w-full text-start",children:"Sumber Data"}),selector:(e,l)=>null==e?void 0:e.sumber_data,sortable:!0,wrap:!0},{name:(0,a.jsx)("div",{className:"w-full text-start",children:"Periode Pengukuran"}),selector:(e,l)=>null==e?void 0:e.periode_pengukuran,sortable:!0,wrap:!0}],w={headCells:{style:{backgroundColor:"#408EFD",color:"white","&:first-child":{borderTopLeftRadius:"1rem"},"&:last-child":{borderTopRightRadius:"1rem"}}}};var j=e=>{let{data:l,onCloseModal:t}=e,s=r.useMemo(()=>{if(l&&Array.isArray(l.Formulasi)){let e=[];return l.Formulasi.forEach(l=>{Array.isArray(l)?e=[...e,...l.filter(e=>null!==e)]:null!==l&&e.push(l)}),e}return[]},[l]);return(0,a.jsx)("div",{className:"flex mt-2 w-full h-full justify-center items-center",children:(0,a.jsx)("div",{className:"content px-5 py-3 pt-0 flex flex-col justify-center items-center w-full",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(c.ZP,{columns:p,data:s,customStyles:w,pagination:!0,responsive:!0,noDataComponent:"Tidak ada data"})})})})},b=t(6128),v=()=>{let[e,l]=(0,r.useState)("");(0,r.useEffect)(()=>{{let e=window.localStorage.getItem("roleId");null!==e?l(e):console.error("roleId tidak tersedia di local storage")}},[]);let[t,x]=(0,r.useState)(!1),f=new Date().getFullYear(),[p,w]=(0,r.useState)(f),v=e=>{w(e.tahun),x(!t)},[g,N,y]=(0,s.c)("/user",!1,1e3,t),[k,C,S]=(0,n.Y)("/tahun",!1),T=k.slice(2).map(e=>(0,a.jsx)(u.Z,{text:e.tahun,active:p==e.tahun,onClick:()=>v(e)},e.Pk_Tahun_Id)),[Z,I,E]=(0,n.Y)("/formulir12?tahun=".concat(p,"&userId=",19),!1,t);console.log("form 10",Z,p,null==g?void 0:g.Id);let F=[{name:"No",selector:(e,l)=>l?1+l:1,sortable:!0,wrap:!0},{name:"Program",selector:(e,l)=>e.program,sortable:!0,wrap:!0},{name:"Kegiatan",selector:(e,l)=>e.kegiatan,sortable:!0,wrap:!0,width:"300px"},{name:(0,a.jsxs)("div",{className:"w-full text-center flex gap-2 flex-col p-2",children:[(0,a.jsx)("p",{children:"Sub Kegiatan"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-between w-full",children:[(0,a.jsx)("p",{className:"w-full",children:"Uraian"}),(0,a.jsx)("p",{className:"w-full",children:"Indikator"}),(0,a.jsx)("p",{className:"w-full",children:"Definisi Operasional"})]})]}),cell:e=>(0,a.jsx)("div",{className:"w-full text-center",children:(0,a.jsxs)("div",{className:"flex justify-between gap-2 text-sm cursor-pointer items-center text-black w-full",children:[(0,a.jsx)("p",{className:"w-full",children:e.uriaian}),(0,a.jsx)("p",{className:"w-full",children:e.indikator}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(m.Z,{onClick:()=>{D(e),P(!0)},tooltip:"Lihat Formulasi",className:"rounded-xl bg-blue-500 p-2 text-white",children:"View"})})]})}),ignoreRowClick:!0,width:"400px"},{name:(0,a.jsx)("div",{className:"w-full text-center",children:"Target"}),selector:(e,l)=>e.target,sortable:!0,wrap:!0},{name:(0,a.jsx)("div",{className:"w-full text-center",children:"Aksi"}),cell:e=>(0,a.jsx)("div",{className:"w-full text-center",children:(0,a.jsx)("div",{className:"flex justify-center gap-2 text-xl cursor-pointer text-blue-700 w-full",children:(0,a.jsx)(o.Z,{onClick:()=>{D(e),z(!0)},tooltip:"Edit Data Target Capaian"})})}),ignoreRowClick:!0},{name:(0,a.jsxs)("div",{className:"w-full text-center flex gap-2 flex-col p-2",children:[(0,a.jsx)("p",{children:"Capaian"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-between w-full",children:[(0,a.jsx)("p",{className:"w-full",children:"TW-1"}),(0,a.jsx)("p",{className:"w-full",children:"TW-2"}),(0,a.jsx)("p",{className:"w-full",children:"TW-3"}),(0,a.jsx)("p",{className:"w-full",children:"TW-4"}),(0,a.jsx)("p",{className:"w-full",children:"Total"})]})]}),cell:e=>(0,a.jsx)("div",{className:"w-full text-center",children:(0,a.jsxs)("div",{className:"flex justify-between gap-2 text-sm cursor-pointer items-center text-black w-full",children:[(0,a.jsx)("p",{className:"w-full",children:e.tw1}),(0,a.jsx)("p",{className:"w-full",children:e.tw2}),(0,a.jsx)("p",{className:"w-full",children:e.tw3}),(0,a.jsx)("p",{className:"w-full",children:e.tw4}),(0,a.jsx)("p",{className:"w-full",children:e.Total})]})}),ignoreRowClick:!0,width:"500px"},{name:(0,a.jsx)("div",{className:"w-full text-center",children:"Validasi"}),cell:e=>(0,a.jsx)("div",{className:"w-full flex justify-center",children:(0,a.jsx)("div",{className:"flex gap-2 py-2 text-xl cursor-pointer text-blue-700",children:"0"===e.validasi||""===e.validasi?(0,a.jsx)("div",{className:"w-full p-2 bg-red-700 text-white text-center text-sm rounded-lg",children:"Belum divalidasi"}):(0,a.jsx)("div",{className:"w-full p-2 bg-green-700 text-white text-center text-sm rounded-lg",children:"Sudah divalidasi"})})}),ignoreRowClick:!0,width:"300px"},{name:(0,a.jsx)("div",{className:"w-full text-center",children:"Catatan"}),cell:e=>(0,a.jsx)("div",{className:"w-full flex justify-center",children:(0,a.jsx)("div",{className:"flex justify-center gap-2 py-2 text-xl cursor-pointer text-blue-700",children:e.catatan?(0,a.jsx)("div",{className:"w-full p-2 bg-green-700 text-white text-center text-sm rounded-lg",children:e.catatan}):(0,a.jsx)("div",{className:"w-full p-2 bg-red-700 text-white text-center text-sm rounded-lg",children:"Tidak ada data"})})}),ignoreRowClick:!0,width:"300px"}],[A,D]=(0,r.useState)(),[R,z]=(0,r.useState)(!1),[M,P]=(0,r.useState)(!1),q=()=>{z(!1),x(!t)};return(0,a.jsx)("main",{className:"flex bg-[#FAFAFA] w-full flex-col items-start justify-start m-0 p-3",children:(0,a.jsxs)("div",{className:"mt-[10vh] overflow-y-auto w-full items-start flex flex-col justify-center h-full gap-3",children:[(0,a.jsx)(b.Z,{isVisible:M,setIsVisible:P,onClose:()=>P(!1),title:"Detail Definisi Operasional",children:(0,a.jsx)("div",{className:"flex mt-2 w-full h-full",children:(0,a.jsx)("div",{className:"content px-5 py-3 flex flex-col justify-start items-center w-full",children:(0,a.jsx)("div",{className:"konten flex flex-col justify-start items-center w-full",children:(0,a.jsx)(j,{data:A,onCloseModal:q})})})})}),(0,a.jsx)(d.Z,{isVisibleSmall:R,setIsVisibleSmall:z,onCloseSmall:()=>z(!1),title:"Tambah Rekomendasi",children:(0,a.jsx)("div",{className:"flex mt-2 w-full h-full",children:(0,a.jsx)("div",{className:"content px-5 py-3 flex flex-col justify-start items-center w-full",children:(0,a.jsx)("div",{className:"konten flex flex-col justify-start items-center w-full",children:(0,a.jsx)(h,{data:A,onCloseModal:q})})})})}),(0,a.jsx)("div",{className:"p-4 w-full mb-0",children:(0,a.jsx)("div",{className:"card p-4 w-full rounded-xl",children:(0,a.jsxs)("div",{className:"information flex flex-col w-full bg-blue-600 p-3 rounded-xl text-white font-bold",children:[(0,a.jsxs)("div",{className:"periode flex w-full",children:[(0,a.jsx)("p",{className:"xl:w-[20%] w-full",children:"Periode"}),(0,a.jsx)("p",{className:"",children:": "}),(0,a.jsx)("p",{className:"px-2 w-full",children:"2020 s/d 2026"})]}),(0,a.jsxs)("div",{className:"periode flex w-full",children:[(0,a.jsx)("p",{className:"xl:w-[20%] w-full",children:"Perangkat Daerah"}),(0,a.jsx)("p",{className:"",children:": "}),(0,a.jsx)("p",{className:"px-2 w-full",children:null==g?void 0:g.name})]})]})})}),(0,a.jsx)("div",{className:"tahuns flex justify-center item-center w-full mb-2",children:(0,a.jsx)(i.Z,{loading:C,error:S,dataComponent:(0,a.jsx)("div",{className:"xl:flex grid grid-cols-3 gap-2 justify-center item-center",children:T})})}),(0,a.jsx)("div",{className:"data w-full",children:(0,a.jsx)(i.Z,{error:E,loading:I,text:"Loading ...",dataComponent:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(c.ZP,{columns:F,data:null!=Z?Z:[],customStyles:{headCells:{style:{backgroundColor:"#408EFD",color:"white","&:first-child":{borderTopLeftRadius:"1rem"},"&:last-child":{borderTopRightRadius:"1rem"}}}},pagination:!0,responsive:!0,noDataComponent:"Tidak ada data"})})})})]})})}},4815:function(e,l,t){"use strict";var a=t(7437);t(2265);var s=t(6408);l.Z=e=>{let{onClick:l,className:t,tooltip:r,disabled:i,children:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{"data-tooltip-id":r,"data-tooltip-content":r,children:(0,a.jsx)("button",{disabled:i,type:"button",role:"button",onClick:l,className:t,children:n})}),(0,a.jsx)(s.u,{id:r,className:"tooltip"})]})}},8981:function(e,l,t){"use strict";var a=t(7437);t(2265);var s=t(3781),r=t(6408);l.Z=e=>{let{onClick:l,className:t,tooltip:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{"data-tooltip-id":i,"data-tooltip-content":i,children:(0,a.jsx)("button",{type:"button",role:"button",onClick:l,children:(0,a.jsx)(s.Ph1,{className:"text-blue-600 hover:text-blue-800 transition-all ".concat(t),size:20})})}),(0,a.jsx)(r.u,{id:i,className:"tooltip"})]})}},57:function(e,l,t){"use strict";var a=t(7437);t(2265),l.Z=e=>{let{text:l,onClick:t,active:s,className:r}=e,i="transition-all bg-blue-500 font-button hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full ".concat(s?"bg-emerald-500 shadow-2xl opacity-100":""," focus:bg-emerald-500 ").concat(r);return(0,a.jsx)("button",{className:i,type:"button",role:"button",onClick:t,children:l})}},6215:function(e,l,t){"use strict";var a=t(7437);t(2265),l.Z=e=>{let{loading:l,error:t,dataComponent:s,text:r}=e;return(0,a.jsx)(a.Fragment,{children:l?(0,a.jsx)("div",{className:"bg-slate-500 h-full min-h-[300px] text-white animate-pulse w-full text-sm p-2 rounded-lg flex justify-center items-center text-center mb-5",children:r||"Loading Data..."}):t?(0,a.jsxs)("div",{className:"text-red-700 font-bold text-lg",children:["Error: ",t.message]}):(0,a.jsx)(a.Fragment,{children:s})})}},6128:function(e,l,t){"use strict";t.d(l,{Z:function(){return n}});var a=t(7437),s=t(2265),r=()=>{let[e,l]=(0,s.useState)(!1);return{modal:{isVisible:e,setIsVisible:l,onClose:()=>l(!1)},visible:e,setVisible:l}},i=t(5097),n=e=>{let{isVisible:l,setIsVisible:t,onClose:s,children:n,title:c}=e;return r(),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"\n          ".concat(l?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50  h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,a.jsx)("div",{onClick:()=>s(),className:" h-screen flex lg:w-[10%] w-[5%]  md:w-[20%]"}),(0,a.jsxs)("div",{className:" h-screen flex w-full flex-col ",children:[(0,a.jsx)("div",{onClick:()=>s(),className:"h-[5%]  w-full"}),(0,a.jsx)("div",{className:"h-[90%] overflow-y-auto rounded-md bg-white w-full",children:(0,a.jsxs)("div",{className:"h-full relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black",children:[(0,a.jsxs)("div",{onClick:()=>s(),className:"z-10 h-[10%] flex justify-between items-center p-3 cursor-pointer rounded-md bg-blue-500 text-white w-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:c}),(0,a.jsx)(i.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,a.jsx)("div",{className:"overflow-y-auto",children:n})]})}),(0,a.jsx)("div",{onClick:()=>s(),className:"h-[5%]  w-full"})]}),(0,a.jsx)("div",{onClick:()=>s(),className:" h-screen flex lg:w-[10%] w-[5%]  md:w-[20%]"})]})})}},6409:function(e,l,t){"use strict";var a=t(2265);l.Z=()=>{let[e,l]=(0,a.useState)(!1);return{modal:{isVisibleSmall:e,setIsVisibleSmall:l,onCloseSmall:()=>l(!1)},visible:e,setVisible:l}}},710:function(e,l,t){"use strict";var a=t(7437),s=t(6409),r=t(5097);l.Z=e=>{let{isVisibleSmall:l,setIsVisibleSmall:t,onCloseSmall:i,children:n,title:c}=e;return(0,s.Z)(),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"\n          ".concat(l?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50  h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,a.jsx)("div",{onClick:()=>i(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"}),(0,a.jsxs)("div",{className:" h-screen flex lg:w-[40%] w-full flex-col ",children:[(0,a.jsx)("div",{onClick:()=>i(),className:"md:h-[20%] h-[10%]  w-full"}),(0,a.jsxs)("div",{className:"h-full relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black",children:[(0,a.jsxs)("div",{onClick:()=>i(),className:"z-10 h-[10%] flex justify-between items-center p-3 cursor-pointer rounded-md bg-blue-500 text-white w-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:c}),(0,a.jsx)(r.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,a.jsx)("div",{className:"overflow-y-auto",children:n})]}),(0,a.jsx)("div",{onClick:()=>i(),className:"md:h-[20%] h-[10%]  w-full"})]}),(0,a.jsx)("div",{onClick:()=>i(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"})]})})}},361:function(e,l,t){"use strict";t.d(l,{H:function(){return i}});var a=t(2126);let s="",r=a.Z.create({baseURL:"https://inspektorat-be.agriciatech.com/api/v1"}),i=()=>{let e=localStorage.getItem("token");e&&(s=e,r.defaults.headers.common.Authorization="Bearer ".concat(s))};r.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),l.Z=r},9938:function(e,l,t){"use strict";t.d(l,{Y:function(){return i}});var a=t(2265),s=t(361),r=t(3580);function i(e,l,t,i){let[n,c]=(0,a.useState)(t||null),[o,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[x,f]=(0,a.useState)(null);return[n,o,u,async t=>{try{let a;d(!0);let n=localStorage.getItem("token"),o={Authorization:"Bearer ".concat(n)};switch(o["Content-Type"]="application/json",i&&(o["Content-Type"]="multipart/form-data"),console.log("post dataaa",t),l){case"post":a=await s.Z.post(e,t,{headers:o});break;case"put":a=await s.Z.put(e,t,{headers:o});break;case"delete":a=await s.Z.delete(e,{headers:o});break;default:throw Error("Unsupported HTTP method")}r.Am.success(a.data.message,{position:"top-right"}),c(a.data),console.log("response",a)}catch(e){console.log("error",e),r.Am.error(e.message,{position:"top-right"}),m(e)}finally{d(!1)}}]}},5922:function(e,l,t){"use strict";t.d(l,{Y:function(){return r}});var a=t(2265),s=t(361);function r(e,l,t){let[r,i]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),[u,m]=(0,a.useState)();(0,a.useEffect)(()=>{null!=t&&m(t)},[t]);let x=async()=>{c(!0);try{let l=localStorage.getItem("token"),t=await s.Z.get(e,{headers:{Authorization:"Bearer ".concat(l)}});i(t.data.data),d(null)}catch(e){d(e)}finally{c(!1)}};return(0,a.useEffect)(()=>{if(l){let e=setInterval(x,1e3);return()=>{clearInterval(e)}}x()},[e,l]),(0,a.useEffect)(()=>{x()},[u]),[r,n,o]}},5039:function(e,l,t){"use strict";t.d(l,{c:function(){return r}});var a=t(2265),s=t(361);function r(e,l,t,r){let[i,n]=(0,a.useState)(),[c,o]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)();(0,a.useEffect)(()=>{null!=r&&x(r)},[r]);let f=async()=>{try{let l=localStorage.getItem("token"),t=await s.Z.get(e,{headers:{Authorization:"Bearer ".concat(l)}}),a=t.data.data?t.data.data:t.data;n(a),console.log(i)}catch(e){u(e)}finally{o(!1)}};return(0,a.useEffect)(()=>{f()},[m,e]),(0,a.useEffect)(()=>{if(l){let e=setInterval(f,t);return console.log("datasss",i),()=>clearInterval(e)}},[f,l,e]),[i,c,d]}}},function(e){e.O(0,[5706,1779,2126,6713,9343,9500,6408,2971,7023,1744],function(){return e(e.s=7972)}),_N_E=e.O()}]);