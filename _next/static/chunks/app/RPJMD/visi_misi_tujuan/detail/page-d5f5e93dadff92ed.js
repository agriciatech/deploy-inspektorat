(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7521],{8852:function(e,a,r){Promise.resolve().then(r.bind(r,7484))},9219:function(e,a,r){"use strict";var t=r(2265);a.Z=()=>{let[e,a]=(0,t.useState)(0),[r,s]=(0,t.useState)(0),[l,i]=(0,t.useState)(0),[o,n]=(0,t.useState)(0),[d,u]=(0,t.useState)(!1),[c,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[f,b]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),[j,k]=(0,t.useState)(!1),[I,T]=(0,t.useState)(!1),[w,y]=(0,t.useState)(!1),[N,v]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[D,F]=(0,t.useState)(!1),[A,q]=(0,t.useState)(!1),[E,V]=(0,t.useState)([]),[C,K]=(0,t.useState)([]),[Z,P]=(0,t.useState)([]),[$,R]=(0,t.useState)([]),[z,O]=(0,t.useState)(0);return{nomor:z,setNomor:O,handleAddIndikator:e=>{_(!0),i(e)},handleEditIndikator:e=>{F(!0),n(e)},setIdVisi:a,setIdMisi:s,setIdTujuan:i,setIdIndikator:n,idVisi:e,idMisi:r,idTujuan:l,idIndikator:o,handleDeleteIndikator:e=>{q(!0),n(e)},isVisibleAddModalIndikator:S,setIsVisibleAddModalIndikator:_,isVisibleEditModalIndikator:D,setIsVisibleEditModalIndikator:F,setIsVisibleDeleteModalIndikator:q,isVisibleDeleteModalIndikator:A,handleDeleteTujuan:e=>{v(!0),i(e)},handleEditTujuan:e=>{y(!0),i(e)},handleAddTujuan:e=>{T(!0),s(e)},isVisibleAddModalTujuan:I,isVisibleEditModalTujuan:w,isVisibleDeleteModalTujuan:N,setIsVisibleAddModalTujuan:T,setIsVisibleDeleteModalTujuan:v,setIsVisibleEditModalTujuan:y,handleEditUser:e=>{m(!0),a(e)},handleEditMisi:e=>{g(!0),s(e)},handleDeleteMisi:e=>{k(!0),s(e)},handleAddMisi:e=>{b(!0),a(e)},isVisibleAddModalMisi:f,setIsVisibleAddModalMisi:b,isVisibleEditModalMisi:x,setIsVisibleEditModalMisi:g,isVisibleDeleteModalMisi:j,setIsVisibleDeleteModalMisi:k,handleDeleteUser:e=>{p(!0),a(e)},tujuan:Z,setTujuan:P,misi:C,setMisi:K,headerDataVisi:["No","Aksi","Visi Daerah","Tambah Visi"],isVisibleDeleteModal:h,setIsVisibleDeleteModal:p,isVisibleEditModal:c,setIsVisibleEditModal:m,handleAddVisi:()=>{u(!0)},setIsVisibleAddModal:u,isVisibleAddModal:d,headerDataMisi:["No","Aksi","Misi Daerah","Tambah Misi"],headerDataTujuan:["No","Aksi","Tujuan Daerah","Tambah Tujuan"],visi:E,setVisi:V,records:$,setRecords:R}}},7484:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return w}});var t=r(7437),s=r(681),l=r(2265),i=r(361),o=()=>{let[e,a]=(0,l.useState)([]),[r,t]=(0,l.useState)([]),[s,o]=(0,l.useState)([]),[n,d]=(0,l.useState)([]),[u,c]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[p,f]=(0,l.useState)(null),[b,x]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[k,I]=(0,l.useState)(!1),[T,w]=(0,l.useState)(0),[y,N]=(0,l.useState)(0),[v,S]=(0,l.useState)(""),_=async()=>{try{let e=await i.Z.get("/formulir1/formulir-tujuan-indikator",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(200===e.status){let a=e.data.data,r=["Aksi","Satuan Indikator",...["KA1","KA2","T1","T2","T3","T4","T5"].map(e=>"Tahun ".concat(a[e]))];console.log("Updated Header Data:",r),o(r)}}catch(e){console.log("Error fetching users:",e)}};return(0,l.useEffect)(()=>{_()},[]),{headerData:["Visi","Misi","Tujuan","Indikator"],headerDataDetail:s,dataTable:e,setDataTable:a,dataTableDetail:r,setDataTableDetail:t,record:n,handleAddFormulir:()=>{x(!0)},setRecord:d,recordDetail:u,recordFormulasi:p,setRecordFormulasi:f,dataTableFormulasi:m,setDataTableFormulasi:h,setRecordDetail:c,headerDataFormulasi:["No","Aksi","Definisi Operasional Tujuan","Deskripsi","Sumber Data","Periode Pengukuran"],isVisibleAddFormulasi:b,isVisibleDeleteFormulasi:g,isVisibleEditFormulasi:k,setIsVisibleAddFormulasi:x,setIsVisibleDeleteFormulasi:j,setIsVisibleEditFormulasi:I,idFormulasi:T,nomor:y,setNomor:N,params:v,setParams:S,setIdFormulasi:w,handleDeleteFormulasi:e=>{j(!0),w(e)},handleEditFormulasi:e=>{I(!0),w(e)}}},n=r(6356),d=r(710),u=r(3051),c=r(9219),m=r(5447),h=r(9343),p=r(3580);r(4193),r(9071);let f=e=>{let{register:a,handleSubmit:r,formState:{errors:s},setValue:o}=(0,h.cI)({defaultValues:{Satuan:"",IDIndikatorTujuan:e.Id_Indikator,IdKa1:"",IdKa2:"",IdT1:"",IdT2:"",IdT3:"",IdT4:"",IdT5:"",KA1:"",KA2:"",T1:"",T2:"",T3:"",T4:"",T5:""}});console.log("indikator",e.Id_Indikator);let n=async()=>{try{let a=(await i.Z.get("/formulir1/konsisi-indikator/".concat(e.Id_Indikator),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data;o("Satuan",a.satuan),o("IDIndikatorTujuan",e.Id_Indikator),o("KA1",a.kondisi[0].Nilai),o("IdKa1",a.kondisi[0].Pk_RIndikatorTujuanTahun_Id),o("KA2",a.kondisi[1].Nilai),o("IdKa2",a.kondisi[1].Pk_RIndikatorTujuanTahun_Id),o("T1",a.kondisi[2].Nilai),o("IdT1",a.kondisi[2].Pk_RIndikatorTujuanTahun_Id),o("T2",a.kondisi[3].Nilai),o("IdT2",a.kondisi[3].Pk_RIndikatorTujuanTahun_Id),o("T3",a.kondisi[4].Nilai),o("IdT3",a.kondisi[4].Pk_RIndikatorTujuanTahun_Id),o("T4",a.kondisi[5].Nilai),o("IdT4",a.kondisi[5].Pk_RIndikatorTujuanTahun_Id),o("T5",a.kondisi[6].Nilai),o("IdT5",a.kondisi[6].Pk_RIndikatorTujuanTahun_Id)}catch(e){console.error("Failed to fetch user data:",e)}},d=(0,l.useRef)(null);(0,l.useEffect)(()=>{d.current&&d.current.focus()},[]);let[u,c]=(0,l.useState)(""),f=async a=>{let{Satuan:r,IDIndikatorTujuan:t,KA1:s,KA2:l,T1:o,T2:n,T3:d,T4:u,T5:m,IdKa1:h,IdKa2:f,IdT1:b,IdT2:x,IdT3:g,IdT4:j,IdT5:k}=a,I=parseInt(t.toString(),10),T=parseFloat(s.toString()),w=parseFloat(l.toString()),y=parseFloat(o.toString()),N=parseFloat(n.toString()),v=parseFloat(d.toString()),S=parseFloat(u.toString()),_=parseFloat(m.toString()),D=parseInt(h.toString(),10),F=parseInt(f.toString(),10),A=parseInt(b.toString(),10),q=parseInt(x.toString(),10),E=parseInt(g.toString(),10),V=parseInt(j.toString(),10),C=parseInt(k.toString(),10);console.log("data",a);try{let a=await i.Z.put("/formulir1/konsisi-indikator/",{Satuan:r,IDIndikatorTujuan:I,KA1:T,KA2:w,T1:y,T2:N,T3:v,T4:S,T5:_,IdKa1:D,IdKa2:F,IdT1:A,IdT2:q,IdT3:E,IdT4:V,IdT5:C},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===a.status&&(console.log(a.data.data),c(""),e.data(),p.Am.success("Indikator Berhasil Diperbarui!",{position:"top-right"}),e.setVisible(!1))}catch(e){if(e.response&&401===e.response.status){let e="Unauthorized";c(e),p.Am.error(e,{position:"top-right"})}else if(e.response&&403===e.response.status){let e="Gagal memperbarui Indikator!";c(e),p.Am.error(e,{position:"top-right"})}else{console.log(e);let a="Gagal memperbarui indikator!, ".concat(e.message);c(a),p.Am.error(a,{position:"top-right"})}}};return(0,l.useEffect)(()=>{e.isVisible},[e.isVisible]),(0,l.useEffect)(()=>{n()},[e.Id_Indikator,o]),(0,t.jsx)("div",{className:"w-full h-full px-4",children:(0,t.jsxs)("form",{className:"flex h-full pt-4 w-full justify-evenly flex-col",onSubmit:r(f),children:[(0,t.jsxs)("div",{className:"flex flex-col flex-col-row",children:[(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IDIndikatorTujuan?"border-red-500":"border-gray-300"),type:"hidden",value:e.Id_Indikator,id:"IDIndikatorTujuan",...a("IDIndikatorTujuan",{required:"IDIndikatorTujuan is required."})}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IdKa1?"border-red-500":"border-gray-300"),type:"hidden",id:"IdKa1",...a("IdKa1",{required:"IdKa1 is required."})}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IdKa2?"border-red-500":"border-gray-300"),type:"hidden",id:"IdKa2",...a("IdKa2",{required:"IdKa2 is required."})}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IdT1?"border-red-500":"border-gray-300"),type:"hidden",id:"IdT1",...a("IdT1",{required:"IdT1 is required."})}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IdT2?"border-red-500":"border-gray-300"),type:"hidden",id:"IdT2",...a("IdT2",{required:"IdT2 is required."})}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IdT3?"border-red-500":"border-gray-300"),type:"hidden",id:"IdT3",...a("IdT3",{required:"IdT3 is required."})}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IdT4?"border-red-500":"border-gray-300"),type:"hidden",id:"IdT4",...a("IdT4",{required:"IdT4 is required."})}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.IdT5?"border-red-500":"border-gray-300"),type:"hidden",id:"IdT5",...a("IdT5",{required:"IdT5 is required."})}),(0,t.jsx)("label",{htmlFor:"satuan",className:"block mb-1 required",children:"Satuan"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.Satuan?"border-red-500":"border-gray-300"),type:"text",id:"satuan",...a("Satuan",{required:"Satuan is required."}),placeholder:"Enter your Satuan Indikator"}),s.Satuan&&(0,t.jsx)("p",{className:"text-red-500",children:s.Satuan.message}),(0,t.jsx)("label",{htmlFor:"KA1",className:"block mb-1 required",children:"Kondisi Awal 1"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.KA1?"border-red-500":"border-gray-300"),type:"text",id:"KA1",...a("KA1",{required:"Kondisi Awal 1 is required.",validate:e=>/^\d+(\.\d{0,2})?$/.test(e)||"Invalid number format"}),onChange:e=>{let a=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1").replace(/^(\d*\.\d{0,2}).*$/,"$1");e.target.value=a,o("KA1",e.target.value)},placeholder:"Enter your Kondisi Awal 1 Indikator"}),s.KA1&&(0,t.jsx)("p",{className:"text-red-500",children:s.KA1.message}),(0,t.jsx)("label",{htmlFor:"KA2",className:"block mb-1 required",children:"Kondisi Awal 2"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.KA2?"border-red-500":"border-gray-300"),type:"text",id:"KA2",...a("KA2",{required:"Kondisi Awal 2 is required.",validate:e=>/^\d+(\.\d{0,2})?$/.test(e)||"Invalid number format"}),onChange:e=>{let a=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1").replace(/^(\d*\.\d{0,2}).*$/,"$1");e.target.value=a,o("KA2",e.target.value)},placeholder:"Enter your Kondisi Awal 2 Indikator"}),s.KA2&&(0,t.jsx)("p",{className:"text-red-500",children:s.KA2.message}),(0,t.jsx)("label",{htmlFor:"T1",className:"block mb-1 required",children:"Tahun 1"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.T1?"border-red-500":"border-gray-300"),type:"text",id:"T1",...a("T1",{required:"Tahun 1 is required.",validate:e=>/^\d+(\.\d{0,2})?$/.test(e)||"Invalid number format"}),onChange:e=>{let a=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1").replace(/^(\d*\.\d{0,2}).*$/,"$1");e.target.value=a,o("T1",e.target.value)},placeholder:"Enter your Tahun 1 Indikator"}),s.T1&&(0,t.jsx)("p",{className:"text-red-500",children:s.T1.message}),(0,t.jsx)("label",{htmlFor:"T2",className:"block mb-1 required",children:"Tahun 2"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.T2?"border-red-500":"border-gray-300"),type:"text",id:"T2",...a("T2",{required:"Tahun 2 is required.",validate:e=>/^\d+(\.\d{0,2})?$/.test(e)||"Invalid number format"}),onChange:e=>{let a=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1").replace(/^(\d*\.\d{0,2}).*$/,"$1");e.target.value=a,o("T2",e.target.value)},placeholder:"Enter your Tahun 2 Indikator"}),s.T2&&(0,t.jsx)("p",{className:"text-red-500",children:s.T2.message}),(0,t.jsx)("label",{htmlFor:"T3",className:"block mb-1 required",children:"Tahun 3"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.T3?"border-red-500":"border-gray-300"),type:"text",id:"T3",...a("T3",{required:"Tahun 3 is required.",validate:e=>/^\d+(\.\d{0,2})?$/.test(e)||"Invalid number format"}),onChange:e=>{let a=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1").replace(/^(\d*\.\d{0,2}).*$/,"$1");e.target.value=a,o("T3",e.target.value)},placeholder:"Enter your Tahun 3 Indikator"}),s.T3&&(0,t.jsx)("p",{className:"text-red-500",children:s.T3.message}),(0,t.jsx)("label",{htmlFor:"T4",className:"block mb-1 required",children:"Tahun 4"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.T4?"border-red-500":"border-gray-300"),type:"text",id:"T4",...a("T4",{required:"Tahun 4 is required.",validate:e=>/^\d+(\.\d{0,2})?$/.test(e)||"Invalid number format"}),onChange:e=>{let a=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1").replace(/^(\d*\.\d{0,2}).*$/,"$1");e.target.value=a,o("T4",e.target.value)},placeholder:"Enter your Tahun 4 Indikator"}),s.T4&&(0,t.jsx)("p",{className:"text-red-500",children:s.T4.message}),(0,t.jsx)("label",{htmlFor:"T5",className:"block mb-1 required",children:"Tahun 5"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(s.T5?"border-red-500":"border-gray-300"),type:"text",id:"T5",...a("T5",{required:"Tahun 5 is required.",validate:e=>/^\d+(\.\d{0,2})?$/.test(e)||"Invalid number format"}),onChange:e=>{let a=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1").replace(/^(\d*\.\d{0,2}).*$/,"$1");e.target.value=a,o("T5",e.target.value)},placeholder:"Enter your Tahun 5 Indikator"}),s.T5&&(0,t.jsx)("p",{className:"text-red-500",children:s.T5.message})]}),(0,t.jsx)("div",{className:"py-5 flex flex-col",children:(0,t.jsx)(m.Z,{text:"Edit Indikator",className:"h-10"})})]})})};var b=r(1641);let x=e=>{let{register:a,handleSubmit:r,formState:{errors:s},reset:o}=(0,h.cI)(),n=(0,l.useRef)(null);(0,l.useEffect)(()=>{n.current&&n.current.focus()},[]),console.log("tujuan",e.Id_Tujuan);let[d,u]=(0,l.useState)(""),c=async a=>{let{formulasi_tujuan:r,Deskripsi:t,sumebr_data:s,priode_pengukuran:l,Fk_IndiatorTujuan:n}=a;console.log("data",a);let d=parseInt(e.Id_Tujuan);try{let a=await i.Z.post("/FormulasiTujuan",{formulasi_tujuan:r,Deskripsi:t,sumebr_data:s,priode_pengukuran:l,Fk_IndiatorTujuan:d},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===a.status&&(u(""),e.data(),p.Am.success("Indikator Berhasil Dibuat!",{position:"top-right"}),e.setVisible(!1),o())}catch(e){if(e.response&&401===e.response.status){let e="Unauthorized";u(e),p.Am.error(e,{position:"top-right"}),o()}else if(e.response&&403===e.response.status){let e="Gagal menambahkan Indikator!";u(e),p.Am.error(e,{position:"top-right"}),o()}else{console.log(e);let a="Gagal membuat indikator!,  ".concat(e.message);u(a),p.Am.error(a,{position:"top-right"}),o()}}};return(0,l.useEffect)(()=>{e.isVisible||o()},[e.isVisible,o]),(0,t.jsx)("div",{className:"w-full h-full  px-4",children:(0,t.jsxs)("form",{className:"flex h-full pt-4 w-full justify-evenly flex-col",onSubmit:r(c),children:[(0,t.jsxs)("div",{className:"flex flex-col  flex-col-row",children:[(0,t.jsx)("label",{htmlFor:"formulasi_tujuan",className:"block mb-2 required",children:"Definisi Operasional Tujuan"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.formulasi_tujuan?"border-red-500":"border-gray-300"),type:"text",id:"formulasi_tujuan",...a("formulasi_tujuan",{required:"Definisi Operasional Tujuan is required."}),placeholder:"Enter your Definisi Operasional Tujuan"}),s.formulasi_tujuan&&(0,t.jsx)("p",{className:"text-red-500",children:s.formulasi_tujuan.message}),(0,t.jsx)("label",{htmlFor:"Deskripsi",className:"block mb-2 required",children:"Deskripsi"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.Deskripsi?"border-red-500":"border-gray-300"),type:"text",id:"Deskripsi",...a("Deskripsi",{required:"Deskripsi is required."}),placeholder:"Enter your Deskripsi"}),s.Deskripsi&&(0,t.jsx)("p",{className:"text-red-500",children:s.Deskripsi.message}),(0,t.jsx)("label",{htmlFor:"sumebr_data",className:"block mb-2 required",children:"Sumber Data"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.sumebr_data?"border-red-500":"border-gray-300"),type:"text",id:"sumebr_data",...a("sumebr_data",{required:"Sumber Data is required."}),placeholder:"Enter your Sumber Data"}),s.sumebr_data&&(0,t.jsx)("p",{className:"text-red-500",children:s.sumebr_data.message}),(0,t.jsx)("label",{htmlFor:"priode_pengukuran",className:"block mb-2 required",children:"Periode Pengukuran"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.priode_pengukuran?"border-red-500":"border-gray-300"),type:"text",id:"priode_pengukuran",...a("priode_pengukuran",{required:"Periode Pengukuran is required."}),placeholder:"Enter your Periode Pengukuran"}),s.priode_pengukuran&&(0,t.jsx)("p",{className:"text-red-500",children:s.priode_pengukuran.message}),(0,t.jsx)("input",{type:"hidden",id:"Fk_IndiatorTujuan",value:e.Id_Tujuan,...a("Fk_IndiatorTujuan")})]}),(0,t.jsx)("div",{className:"py-5 flex flex-col",children:(0,t.jsx)(m.Z,{text:"Tambah Definisi Operasional",className:"h-10"})})]})})};var g=r(4200),j=r(8079),k=r(7702);let I=e=>{console.log("yahaha",e.id);let a=async()=>{try{await i.Z.delete("/FormulasiTujuan/".concat(e.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(a=>{200===a.status&&(e.setVisible(!1),p.Am.success("Definisi Operasional berhasil dihapus",{position:"top-right"}),e.data())})}catch(e){console.log(e),p.Am.error("Misi gagal dihapus",{position:"top-right"})}};return(0,t.jsx)("div",{className:"w-full py-10  h-full flex px-4",children:(0,t.jsxs)("div",{className:"relative  flex-col mt-[1rem]  w-full h-full bg-red-blue flex justify-center items-start",children:[(0,t.jsx)("h1",{className:"font-semibold text-lg",children:"Apakah anda yakin ingin menghapus Definisi Operasional nomor ".concat(e.nomor," ?")}),(0,t.jsxs)("div",{className:"pt-10 flex w-full justify-end  ",children:[(0,t.jsx)(k.Z,{onClick:a,text:"Hapus",className:"mr-2"}),(0,t.jsx)(j.Z,{onClick:()=>e.setVisible(!1),className:"text-white",text:"Batal"})]})]})})},T=e=>{let{register:a,handleSubmit:r,formState:{errors:s},setValue:o}=(0,h.cI)({defaultValues:{formulasi_tujuan:"",Deskripsi:"",sumebr_data:"",priode_pengukuran:""}}),n=async()=>{try{let a=await i.Z.get("/FormulasiTujuan/".concat(e.Id_Formulasi),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),r=a.data.data;console.log("ini data",a.data.data),o("formulasi_tujuan",r.formulasi_tujuan),o("Deskripsi",r.deskripsi),o("sumebr_data",r.sumebr_data),o("priode_pengukuran",r.priode_pengukuran)}catch(e){console.error("Failed to fetch user data:",e)}};console.log("cekdata edit",e.Id_Formulasi),console.log("cekdata nomor",e.nomor),(0,l.useEffect)(()=>{n()},[e.Id_Formulasi,o]);let d=(0,l.useRef)(null);(0,l.useEffect)(()=>{d.current&&d.current.focus()},[]);let[u,c]=(0,l.useState)(""),f=async a=>{let{formulasi_tujuan:r,Deskripsi:t,sumebr_data:s,priode_pengukuran:l}=a;console.log("data",a);try{let a=await i.Z.put("/FormulasiTujuan/".concat(e.nomor),{formulasi_tujuan:r,Deskripsi:t,sumebr_data:s,priode_pengukuran:l},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===a.status&&(c(""),e.data(),p.Am.success("Indikator Berhasil Diperbarui!",{position:"top-right"}),e.setVisible(!1))}catch(e){if(e.response&&401===e.response.status){let e="Unauthorized";c(e),p.Am.error(e,{position:"top-right"})}else if(e.response&&403===e.response.status){let e="Gagal memperbarui Indikator!";c(e),p.Am.error(e,{position:"top-right"})}else{console.log(e);let a="Gagal memperbarui indikator!, ".concat(e.message);c(a),p.Am.error(a,{position:"top-right"})}}};return(0,l.useEffect)(()=>{e.isVisible},[e.isVisible]),(0,t.jsx)("div",{className:"w-full h-full px-4",children:(0,t.jsxs)("form",{className:"flex h-full pt-4 w-full justify-evenly flex-col",onSubmit:r(f),children:[(0,t.jsxs)("div",{className:"flex flex-col  flex-col-row",children:[(0,t.jsx)("label",{htmlFor:"formulasi_tujuan",className:"block mb-2 required",children:"Definisi Operasional Tujuan"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.formulasi_tujuan?"border-red-500":"border-gray-300"),type:"text",id:"formulasi_tujuan",...a("formulasi_tujuan",{required:"Definisi Operasional Tujuan is required."}),placeholder:"Enter your Definisi Operasional Tujuan"}),s.formulasi_tujuan&&(0,t.jsx)("p",{className:"text-red-500",children:s.formulasi_tujuan.message}),(0,t.jsx)("label",{htmlFor:"Deskripsi",className:"block mb-2 required",children:"Deskripsi"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.Deskripsi?"border-red-500":"border-gray-300"),type:"text",id:"Deskripsi",...a("Deskripsi",{required:"Deskripsi is required."}),placeholder:"Enter your Deskripsi"}),s.Deskripsi&&(0,t.jsx)("p",{className:"text-red-500",children:s.Deskripsi.message}),(0,t.jsx)("label",{htmlFor:"sumebr_data",className:"block mb-2 required",children:"Sumber Data"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.sumebr_data?"border-red-500":"border-gray-300"),type:"text",id:"sumebr_data",...a("sumebr_data",{required:"Sumber Data is required."}),placeholder:"Enter your Sumber Data"}),s.sumebr_data&&(0,t.jsx)("p",{className:"text-red-500",children:s.sumebr_data.message}),(0,t.jsx)("label",{htmlFor:"priode_pengukuran",className:"block mb-2 required",children:"Periode Pengukuran"}),(0,t.jsx)("input",{className:"border rounded-md w-full px-3 py-2 mb-2 focus:outline-none focus:border-blue-500 ".concat(s.priode_pengukuran?"border-red-500":"border-gray-300"),type:"text",id:"priode_pengukuran",...a("priode_pengukuran",{required:"Periode Pengukuran is required."}),placeholder:"Enter your Periode Pengukuran"}),s.priode_pengukuran&&(0,t.jsx)("p",{className:"text-red-500",children:s.priode_pengukuran.message})]}),(0,t.jsx)("div",{className:"py-5 flex flex-col",children:(0,t.jsx)(m.Z,{text:"Edit Definisi Operasional Indikator Tujuan",className:"h-10"})})]})})};var w=()=>{var e,a,r;let m=o(),h=localStorage.getItem("detailFormulasi"),p=(0,c.Z)(),j=m.headerData.map(e=>{let a="auto";switch(e.length>15&&(a="".concat(8*e.length,"px")),e.toLowerCase()){case"visi":return{name:e,wrap:!0,selector:e=>e.visi,width:a};case"misi":return{name:e,wrap:!0,selector:e=>e.misi,width:a};case"tujuan":return{name:e,wrap:!0,selector:e=>e.tujuan,width:a};case"indikator":return{name:e,wrap:!0,selector:e=>e.indikator_tujuan,width:a};default:return null}}).filter(Boolean),k=m.headerDataFormulasi.map(e=>{let a="auto";switch(e.length>15&&(a="".concat(8*e.length,"px")),e.toLowerCase()){case"no":return{name:e,wrap:!0,selector:(e,a)=>a+1,width:a};case"aksi":return{name:e,cell:(e,a)=>(0,t.jsxs)("div",{className:"flex flex-row justify-around w-full",children:[(0,t.jsx)(u.AWu,{style:{cursor:"pointer"},className:"text-red-500 w-5 h-5",onClick:()=>[m.handleDeleteFormulasi(e.Pk_FormulasiTujuan_Id),m.setNomor(a+1)]}),(0,t.jsx)(n.zmo,{style:{cursor:"pointer",marginRight:"10px"},onClick:()=>[m.handleEditFormulasi(e.Fk_IndiatorTujuan),m.setParams(e.Pk_FormulasiTujuan_Id),console.log("Yahaha hallow",e.Fk_IndiatorTujuan)],className:"text-blue-500 w-5 h-5"})]}),ignoreRowClick:!0,button:!0};case"definisi operasional tujuan":return{name:e,wrap:!0,selector:e=>e.formulasi_tujuan,width:a};case"deskripsi":return{name:e,wrap:!0,selector:e=>e.deskripsi,width:a};case"sumber data":return{name:e,wrap:!0,selector:e=>e.sumebr_data,width:a};case"periode pengukuran":return{name:e,wrap:!0,selector:e=>e.priode_pengukuran,width:a};default:return null}}).filter(Boolean),w=m.headerDataDetail.map(e=>{let a="auto";if(e.length>15&&(a="".concat(8*e.length,"px")),"aksi"===e.toLocaleLowerCase())return{name:e,cell:e=>(0,t.jsx)("div",{className:"flex flex-row justify-around w-full",children:(0,t.jsx)(n.zmo,{style:{cursor:"pointer",marginRight:"10px"},onClick:()=>p.handleEditIndikator(h),className:"text-blue-500 w-5 h-5"})}),ignoreRowClick:!0,button:!0};if("satuan indikator"===e.toLocaleLowerCase())return{name:e,wrap:!0,selector:e=>(console.log("Row satuan value:",e.satuan),e.satuan),width:a};{let r=e.replace("Tahun ","");return{name:e,wrap:!0,selector:e=>{let a=e.kondisi.find(e=>e.Tahun===r);return a?a.Nilai:"-"},width:a}}}).filter(Boolean),y=async()=>{try{let e=await i.Z.get("/formulir1/information/".concat(h),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log("Fetch Data Response:",e.data),m.setDataTable([e.data]),m.setRecord([e.data])}catch(e){console.log("Error fetching users:",e)}},N=async()=>{try{let e=await i.Z.get("/formulir1/konsisi-indikator/".concat(h),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log("Fetch Data Detail Response:",e.data),m.setDataTableDetail([e.data]),m.setRecordDetail([e.data])}catch(e){console.log("Error fetching users:",e)}},v=async()=>{try{let e=await i.Z.get("/FormulasiTujuan/".concat(h),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log("Fetch Data Formulasi Response:",e.data.data),m.setDataTableFormulasi(e.data.data),m.setRecordFormulasi(e.data.data)}catch(e){console.log("Error fetching users:",e)}};return(0,l.useEffect)(()=>{y(),N(),v()},[]),console.log("Record:",m.record),console.log("Record Detail:",m.recordDetail),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{isVisibleConfirm:m.isVisibleDeleteFormulasi,setIsVisibleConfirm:m.setIsVisibleDeleteFormulasi,onCloseConfirm:()=>m.setIsVisibleDeleteFormulasi(!1),children:(0,t.jsxs)("div",{className:"flex relative justify-start pt-3 h-full  items-start flex-col",children:[(0,t.jsx)("div",{className:"w-full absolute items-start flex  justify-center",children:"Delete Definisi Operasional"}),(0,t.jsx)("div",{className:"w-full h-full ",children:(0,t.jsx)(I,{id:m.idFormulasi,data:v,nomor:m.nomor,setVisible:m.setIsVisibleDeleteFormulasi,isVisible:m.isVisibleDeleteFormulasi})})]})}),(0,t.jsx)(d.Z,{isVisibleSmall:p.isVisibleEditModalIndikator,setIsVisibleSmall:p.setIsVisibleEditModalIndikator,onCloseSmall:()=>p.setIsVisibleEditModalIndikator(!1),children:(0,t.jsxs)("div",{className:"flex relative justify-start pt-3 h-full  items-start flex-col",children:[(0,t.jsx)("div",{className:"w-full absolute items-start flex  justify-center",children:"Edit Indikator"}),(0,t.jsx)("div",{className:"w-full h-full ",children:(0,t.jsx)(f,{Id_Indikator:h,data:N,setVisible:p.setIsVisibleEditModalIndikator,isVisible:p.isVisibleEditModalIndikator})})]})}),(0,t.jsx)(d.Z,{isVisibleSmall:m.isVisibleEditFormulasi,setIsVisibleSmall:m.setIsVisibleEditFormulasi,onCloseSmall:()=>m.setIsVisibleEditFormulasi(!1),children:(0,t.jsxs)("div",{className:"flex relative justify-start pt-3 h-full  items-start flex-col",children:[(0,t.jsx)("div",{className:"w-full absolute items-start flex  justify-center",children:"Edit Definisi Operasional Indikator"}),(0,t.jsx)("div",{className:"w-full h-full ",children:(0,t.jsx)(T,{Id_Formulasi:m.idFormulasi,data:v,nomor:m.params,setVisible:m.setIsVisibleEditFormulasi,isVisible:m.isVisibleEditFormulasi})})]})}),"nomor=",m.params,(0,t.jsx)(d.Z,{isVisibleSmall:m.isVisibleAddFormulasi,setIsVisibleSmall:m.setIsVisibleAddFormulasi,onCloseSmall:()=>m.setIsVisibleAddFormulasi(!1),children:(0,t.jsxs)("div",{className:"flex relative justify-start pt-3 h-full  items-start flex-col",children:[(0,t.jsx)("div",{className:"w-full absolute items-start flex  justify-center",children:"Edit Indikator"}),(0,t.jsx)("div",{className:"w-full h-full ",children:(0,t.jsx)(x,{Id_Tujuan:h,data:v,setVisible:m.setIsVisibleAddFormulasi,isVisible:m.isVisibleAddFormulasi})})]})}),(0,t.jsx)("main",{className:"flex min-h-screen bg-[#FAFAFA] w-full flex-col items-center justify-center m-0",children:(0,t.jsx)("div",{className:"mt-[10vh] overflow-y-auto w-full items-center flex h-full flex-col",children:(0,t.jsxs)("div",{className:"lg:px-8 px-3 w-full h-full",children:[(0,t.jsx)("div",{className:"w-full justify-between items-center py-7 flex flex-row",children:(0,t.jsx)("h1",{className:"text-[#408EFD] text-xl font-semibold",children:"Information"})}),(0,t.jsx)(s.ZP,{columns:j,data:m.record,subHeaderComponent:!0,responsive:!0,highlightOnHover:!0}),(0,t.jsx)("div",{className:"w-full justify-between items-center py-7 flex flex-row",children:(0,t.jsx)("h1",{className:"text-[#408EFD] text-xl font-semibold",children:"Kondisi Indikator"})}),(0,t.jsx)(s.ZP,{columns:w,data:m.recordDetail,subHeaderComponent:!0,responsive:!0,highlightOnHover:!0}),(0,t.jsxs)("div",{className:"w-full justify-between items-center py-7 flex flex-row",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-[#408EFD] text-xl font-semibold",children:"Definisi Operasional"})}),(null===(e=m.recordFormulasi)||void 0===e?void 0:e.Pk_FormulasiTujuan_Id)==0?(0,t.jsx)("div",{children:(0,t.jsx)(b.Z,{text:"Tambah Detail",onClick:()=>m.handleAddFormulir()})}):(0,t.jsx)(t.Fragment,{})]}),(null===(a=m.recordFormulasi)||void 0===a?void 0:a.Pk_FormulasiTujuan_Id)==null||(null===(r=m.recordFormulasi)||void 0===r?void 0:r.Pk_FormulasiTujuan_Id)==0?(0,t.jsx)("div",{className:"mt-4 flex justify-start text-white font-medium text-lg items-center w-full bg-yellow-400 h-16 rounded-lg",children:(0,t.jsx)("h1",{className:"pl-5",children:"Data Kosong, Silahkan tambahkan Definisi Operasional"})}):(0,t.jsx)(s.ZP,{columns:k,data:[m.recordFormulasi],subHeaderComponent:!0,responsive:!0,pagination:!0,highlightOnHover:!0})]})})})]})}},1641:function(e,a,r){"use strict";var t=r(7437);r(2265);var s=r(3781),l=r(6408);a.Z=e=>{let{text:a,onClick:r,className:i,title:o,tooltip:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("a",{"data-tooltip-id":n,"data-tooltip-content":n,children:(0,t.jsxs)("button",{className:"bg-green-700 font-button transition-colors outline-none hover:bg-green-800 text-white  font-bold px-2 p-2 flex items-center gap-1 rounded-lg ".concat(i),type:"button",onClick:r,title:o||"Tambah Data",children:[(0,t.jsx)(s.Kix,{className:"font-extrabold"})," ",a]})}),(0,t.jsx)(l.u,{id:n,className:"tooltip"})]})}},7702:function(e,a,r){"use strict";var t=r(7437);r(2265),a.Z=e=>{let{text:a,onClick:r,className:s}=e;return(0,t.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-10 rounded-full transition-all ".concat(s),type:"button",onClick:r,children:a})}},8079:function(e,a,r){"use strict";var t=r(7437);r(2265),a.Z=e=>{let{text:a,onClick:r,className:s}=e;return(0,t.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-10 rounded-full transition-all ".concat(s),type:"button",onClick:r,children:a})}},5447:function(e,a,r){"use strict";var t=r(7437);r(2265),a.Z=e=>{let{text:a,className:r}=e;return(0,t.jsx)("button",{className:"bg-blue-500 font-button hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-sm transition-colors ".concat(r),type:"submit",children:a})}},4200:function(e,a,r){"use strict";r.d(a,{Z:function(){return o}});var t=r(7437),s=r(2265),l=()=>{let[e,a]=(0,s.useState)(!1);return{modal:{isVisibleConfirm:e,setIsVisibleConfirm:a,onCloseConfirm:()=>a(!1)},visible:e,setVisible:a}},i=r(5097),o=e=>{let{isVisibleConfirm:a,setIsVisibleConfirm:r,onCloseConfirm:s,children:o,title:n,className:d}=e;return l(),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"\n          ".concat(a?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,t.jsx)("div",{onClick:()=>s(),className:" h-screen flex lg:w-[50%] w-[5%]  md:w-[20%]"}),(0,t.jsxs)("div",{className:" h-screen flex lg:w-[50%] w-full  flex-col justify-center ",children:[(0,t.jsx)("div",{onClick:()=>s(),className:"md:h-[50%] h-[50%] w-full"}),(0,t.jsxs)("div",{className:"h-[30%] relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black",children:[(0,t.jsxs)("div",{onClick:()=>s(),className:"z-10 h-[10%] flex justify-between items-center p-5 cursor-pointer rounded-md bg-blue-500 text-white w-full ".concat(d),children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:n}),(0,t.jsx)(i.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,t.jsx)("div",{className:"overflow-y-auto",children:o})]}),(0,t.jsx)("div",{onClick:()=>s(),className:"md:h-[50%]  h-[50%]  w-full"})]}),(0,t.jsx)("div",{onClick:()=>s(),className:" h-screen flex lg:w-[50%] w-[5%]  md:w-[20%]"})]})})}},6409:function(e,a,r){"use strict";var t=r(2265);a.Z=()=>{let[e,a]=(0,t.useState)(!1);return{modal:{isVisibleSmall:e,setIsVisibleSmall:a,onCloseSmall:()=>a(!1)},visible:e,setVisible:a}}},710:function(e,a,r){"use strict";var t=r(7437),s=r(6409),l=r(5097);a.Z=e=>{let{isVisibleSmall:a,setIsVisibleSmall:r,onCloseSmall:i,children:o,title:n}=e;return(0,s.Z)(),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"\n          ".concat(a?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50  h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,t.jsx)("div",{onClick:()=>i(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"}),(0,t.jsxs)("div",{className:" h-screen flex lg:w-[40%] w-full flex-col ",children:[(0,t.jsx)("div",{onClick:()=>i(),className:"md:h-[20%] h-[10%]  w-full"}),(0,t.jsxs)("div",{className:"h-full relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black",children:[(0,t.jsxs)("div",{onClick:()=>i(),className:"z-10 h-[10%] flex justify-between items-center p-3 cursor-pointer rounded-md bg-blue-500 text-white w-full",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:n}),(0,t.jsx)(l.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,t.jsx)("div",{className:"overflow-y-auto",children:o})]}),(0,t.jsx)("div",{onClick:()=>i(),className:"md:h-[20%] h-[10%]  w-full"})]}),(0,t.jsx)("div",{onClick:()=>i(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"})]})})}},361:function(e,a,r){"use strict";r.d(a,{H:function(){return i}});var t=r(2126);let s="",l=t.Z.create({baseURL:"https://inspektorat-be.agriciatech.com/api/v1"}),i=()=>{let e=localStorage.getItem("token");e&&(s=e,l.defaults.headers.common.Authorization="Bearer ".concat(s))};l.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),a.Z=l},4193:function(){},9071:function(){}},function(e){e.O(0,[7679,5706,1779,6051,522,2126,6713,9343,9500,6408,2971,7023,1744],function(){return e(e.s=8852)}),_N_E=e.O()}]);