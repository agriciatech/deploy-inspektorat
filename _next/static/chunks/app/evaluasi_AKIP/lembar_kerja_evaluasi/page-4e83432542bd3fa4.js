(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7997],{2472:function(e,t,l){Promise.resolve().then(l.bind(l,4817))},4817:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return F}});var a=l(7437),s=l(2265),n=l(2546),i=l(6215),r=l(5922),o=e=>{let{onChange:t}=e,l=localStorage.getItem("roleId"),[s,o,c]=(0,r.Y)("1"===l?"/users?role=OPD":"/evaluator",!1),[d,u,x]=(0,r.Y)("/components",!1),[m,f,h]=(0,r.Y)("/tahun",!1),p=(e,l)=>{let a=parseInt(e.target.value,10);t(a,l),console.log("option ".concat(l),a)};return(0,a.jsxs)("div",{className:"flex gap-3 w-full xl:flex-row flex-col",children:[(0,a.jsx)(i.Z,{dataComponent:(0,a.jsx)(n.Z,{options:s,optionLabel:e=>e.name,optionValue:e=>e.Id,defaultValue:"",onChange:e=>p(e,"opd"),defaultText:"Pilih Perangkat Daerah",label:"Pilih Perangkat Daerah",className:"w-full"}),text:"Memuat dropdown data OPD...",error:c,loading:o}),(0,a.jsx)(i.Z,{dataComponent:(0,a.jsx)(n.Z,{options:m,optionLabel:e=>e.tahun.toString(),defaultValue:"",optionValue:e=>e.Pk_Tahun_Id,onChange:e=>p(e,"tahun"),defaultText:"Pilih Tahun",label:"Pilih Tahun",className:"w-full"}),text:"Memuat dropdown data tahun...",error:h,loading:f}),(0,a.jsx)(i.Z,{dataComponent:(0,a.jsx)(n.Z,{options:d,optionLabel:e=>e.component,defaultValue:"",optionValue:e=>e.Id.toString(),onChange:e=>p(e,"komponen"),defaultText:"Pilih Komponen Penilaian",label:"Pilih Komponen Penilaian",className:"w-full"}),text:"Memuat dropdown data komponen penilaian...",error:x,loading:u})]})},c=l(681),d=l(3781),u=l(4200),x=l(9343),m=l(7702),f=l(9938),h=e=>{var t;let{register:l,handleSubmit:s,formState:{errors:n},reset:i}=(0,x.cI)(),[r,,o,c]=(0,f.Y)("/catatan","post"),d=async t=>{var l;let a={Catatan:t.catatan,Verifikasi:"Sesuai",Fk_Inspeksi:e.Fk_Inspeksi,Fk_Keriteria:null===(l=e.data)||void 0===l?void 0:l.Id};console.log("postData",a),await c(a),i(),e.onCloseModal&&e.onCloseModal()};return(0,a.jsx)("div",{className:"flex mt-2 w-full h-full justify-center items-center",children:(0,a.jsxs)("div",{className:"content px-5 py-3 flex flex-col justify-start items-center w-full",children:[(0,a.jsx)("h3",{children:"Anda yakin akan approve kriteria ini"}),(0,a.jsxs)("p",{className:"w-full tex-center text-lg font-bold flex justify-center items-center",children:[null===(t=e.data)||void 0===t?void 0:t.keriteria," ?"]}),(0,a.jsx)("div",{className:"konten flex flex-col justify-start items-center w-full p-3",children:(0,a.jsxs)("form",{onSubmit:s(d),className:"w-full",children:[(0,a.jsx)("label",{htmlFor:"catatan",className:"block mb-1 required",children:"Tambahkan Catatan"}),(0,a.jsx)("textarea",{id:"catatan",rows:10,placeholder:"Tulis catatan anda...",...l("catatan",{required:"Catatan is required."}),className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(n.catatan?"border-red-500":"border-gray-300")}),n.catatan&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:n.catatan.message})]})}),(0,a.jsx)(m.Z,{text:"Ok",className:"w-full",onClick:s(d)})]})})},p=l(710),b=e=>{var t;let{register:l,handleSubmit:s,formState:{errors:n},reset:i}=(0,x.cI)(),[r,,o,c]=(0,f.Y)("/catatan","post"),d=async t=>{var l;let a={Catatan:t.catatan,Verifikasi:"Tidak Sesuai",Fk_Inspeksi:e.Fk_Inspeksi,Fk_Keriteria:null===(l=e.data)||void 0===l?void 0:l.Id};console.log("postData",a),await c(a),i(),e.onCloseModal&&e.onCloseModal()};return(0,a.jsx)("div",{className:"flex mt-2 w-full h-full justify-center items-center",children:(0,a.jsxs)("div",{className:"content px-5 py-3 flex flex-col justify-start items-center w-full",children:[(0,a.jsx)("h3",{children:"Anda yakin akan reject kriteria ini"}),(0,a.jsxs)("p",{className:"w-full tex-center text-lg font-bold flex justify-center items-center",children:[null===(t=e.data)||void 0===t?void 0:t.keriteria," ?"]}),(0,a.jsx)("div",{className:"konten flex flex-col justify-start items-center w-full p-3",children:(0,a.jsxs)("form",{onSubmit:s(d),className:"w-full",children:[(0,a.jsx)("label",{htmlFor:"catatan",className:"block mb-1 required",children:"Tambahkan Catatan"}),(0,a.jsx)("textarea",{id:"catatan",rows:10,placeholder:"Tulis catatan anda...",...l("catatan",{required:"Catatan is required."}),className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(n.catatan?"border-red-500":"border-gray-300")}),n.catatan&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:n.catatan.message})]})}),(0,a.jsx)(m.Z,{text:"Ok",className:"w-full",onClick:s(d)})]})})},g=l(288),j=l(5039),w=e=>{let[t,,l,s]=(0,f.Y)("/catatan","post"),n=async()=>{var t;let l={Catatan:"",Verifikasi:"",Fk_Inspeksi:e.Fk_Inspeksi,Fk_Keriteria:null===(t=e.data)||void 0===t?void 0:t.Id};await s(l),e.onCloseModal&&e.onCloseModal()};return(0,a.jsx)("div",{className:"flex mt-2 w-full h-full justify-center items-center",children:(0,a.jsxs)("div",{className:"content px-5 py-3 flex flex-col justify-between items-center w-full gap-5",children:[(0,a.jsx)("h3",{className:"font-bold text-xl text-center",children:"Are you sure you want to clear the note and reset the verification?"}),(0,a.jsx)(m.Z,{text:"Ok",className:"w-full",onClick:n})]})})},k=l(5097),v=e=>{let{isVisibleUpload:t,onCloseUpload:l,onUpload:n,title:i}=e,[r,o]=(0,s.useState)([]);return t?(0,a.jsxs)("div",{className:"\n          ".concat(t?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50  h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,a.jsx)("div",{onClick:()=>l(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"}),(0,a.jsxs)("div",{className:" h-screen flex lg:w-[40%] w-full flex-col",children:[(0,a.jsx)("div",{onClick:()=>l(),className:"md:h-[20%] h-[10%]  w-full"}),(0,a.jsxs)("div",{className:"h-full relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black items-center",children:[(0,a.jsxs)("div",{onClick:()=>l(),className:"z-10 h-[10%] flex justify-between items-center p-3 cursor-pointer rounded-md bg-blue-500 text-white w-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:i}),(0,a.jsx)(k.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,a.jsxs)("div",{className:"content mt-6 w-full px-10",children:[(0,a.jsx)("label",{className:"block mb-2 font-medium text-gray-900 dark:text-white text-lg",htmlFor:"file_input",children:"Upload File"}),(0,a.jsx)("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 p-2",onChange:e=>{e.target.files&&o(Array.from(e.target.files))},type:"file"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help",children:"(MAX. 2MB)."}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,a.jsx)("button",{onClick:()=>{r.length>0&&(n(r),l())},className:"bg-blue-700 text-white p-2 rounded lg:w-[50%] w-full",children:"Upload"}),(0,a.jsx)("button",{onClick:l,className:"bg-gray-300 text-black p-2 rounded lg:w-[50%] w-full",children:"Cancel"})]})]})]}),(0,a.jsx)("div",{onClick:()=>l(),className:"md:h-[20%] h-[10%]  w-full"})]}),(0,a.jsx)("div",{onClick:()=>l(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"})]}):null},N=e=>{let{isVisibleUpload:t,onUpload:l}=e,[n,i]=(0,s.useState)(""),{register:r,handleSubmit:o,formState:{errors:c},reset:d,control:u}=(0,x.cI)(),m=(e,t)=>{if(e.target.files){let l=Array.from(e.target.files),a=l.filter(e=>e.size<=2097152);a.length<l.length?i("Some files exceed the 2MB size limit and were not selected."):i(""),t.onChange(a)}};return(0,a.jsx)("div",{className:"content mt-6 w-full px-10",children:(0,a.jsxs)("form",{onSubmit:o(e=>{let{files:t,nama:a}=e;t.length>0&&""!==a.trim()?(l(t,a),d()):i("Please enter a name and select files to upload.")}),children:[(0,a.jsx)("label",{className:"w-full text-start block mb-2 font-medium text-gray-900 dark:text-white text-lg",htmlFor:"nama",children:"Nama File"}),(0,a.jsx)("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 p-2",...r("nama",{required:"Nama file is required"})}),c.nama&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:c.nama.message}),(0,a.jsx)("label",{className:"w-full text-start block mb-2 font-medium text-gray-900 dark:text-white text-lg mt-3",htmlFor:"file_input",children:"Upload File"}),(0,a.jsx)(x.Qr,{name:"files",control:u,rules:{required:"Files are required"},render:e=>{let{field:t}=e;return(0,a.jsx)("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 p-2",type:"file",onChange:e=>m(e,t)})}}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help",children:"(MAX. 2MB)."}),c.files&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:c.files.message}),n&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:n}),(0,a.jsx)("div",{className:"flex gap-2 mt-4",children:(0,a.jsx)("button",{type:"submit",className:"bg-blue-700 text-white p-2 rounded w-full",children:"Upload"})})]})})},y=l(4210),C=l(8981),S=l(4815),K=e=>{var t;let{register:l,handleSubmit:s,formState:{errors:n},reset:i}=(0,x.cI)(),[r,,o,c]=(0,f.Y)("/catatan","post"),d=async t=>{var l;let a={Catatan:t.catatan,Verifikasi:"Sesuai Sebagian",Fk_Inspeksi:e.Fk_Inspeksi,Fk_Keriteria:null===(l=e.data)||void 0===l?void 0:l.Id};console.log("postData",a),await c(a),i(),e.onCloseModal&&e.onCloseModal()};return(0,a.jsx)("div",{className:"flex mt-2 w-full h-full justify-center items-center",children:(0,a.jsxs)("div",{className:"content px-5 py-3 flex flex-col justify-center items-center w-full",children:[(0,a.jsxs)("h3",{className:"text-center w-full",children:["Anda yakin akan set ",(0,a.jsx)("span",{className:"font-bold",children:"Sesuai Sebagian"})," ","kriteria ini"]}),(0,a.jsxs)("p",{className:"w-full mt-3 mb-3 text-center text-lg font-bold flex justify-center items-center",children:[null===(t=e.data)||void 0===t?void 0:t.keriteria," ?"]}),(0,a.jsx)("div",{className:"konten flex flex-col justify-start items-center w-full p-3",children:(0,a.jsxs)("form",{onSubmit:s(d),className:"w-full",children:[(0,a.jsx)("label",{htmlFor:"catatan",className:"block mb-1 required",children:"Tambahkan Catatan"}),(0,a.jsx)("textarea",{id:"catatan",rows:10,placeholder:"Tulis catatan anda...",...l("catatan",{required:"Catatan is required."}),className:"border rounded-md w-full px-3 py-2 focus:outline-none focus:border-blue-500 ".concat(n.catatan?"border-red-500":"border-gray-300")}),n.catatan&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:n.catatan.message})]})}),(0,a.jsx)(m.Z,{text:"Ok",className:"w-full",onClick:s(d)})]})})},I=e=>{console.log("idSubKomponen",e);let[t,l,s]=(0,r.Y)("/predikat?index=".concat(e.IdSubKomponen),!1,!1);return console.log("pp",t),(0,a.jsx)("div",{className:"w-full rounded-2xl",children:(0,a.jsx)(c.ZP,{columns:[{name:"Predikat",selector:e=>e.predikat,sortable:!0,wrap:!0,width:"20%"},{name:"Nilai",selector:e=>e.nilai,sortable:!0,width:"20%",wrap:!0},{name:"Penjelasan",selector:e=>e.penjelasan,sortable:!0,wrap:!0,width:"60%"}],data:t,responsive:!0,pagination:!0,striped:!0,highlightOnHover:!0,customStyles:{headCells:{style:{backgroundColor:"#408EFD",color:"white","&:first-child":{borderTopLeftRadius:"1rem"},"&:last-child":{borderTopRightRadius:"1rem"}}}}})})},F=()=>{let[e,t]=(0,s.useState)("");(0,s.useEffect)(()=>{{let e=window.localStorage.getItem("roleId");null!==e?t(e):console.error("roleId tidak tersedia di local storage")}},[]);let l="https://inspektorat-be.agriciatech.com",[n,i]=(0,s.useState)(!1),[x,m]=(0,s.useState)(),[k,F]=(0,s.useState)(),[Z,E]=(0,s.useState)(),[_,T]=(0,s.useState)(),[P,V]=(0,s.useState)(),[M,D]=(0,s.useState)(),[U,A]=(0,s.useState)(),[z,q]=(0,s.useState)(!1),[Y,L]=(0,s.useState)(),[H,R,B]=(0,j.c)("/inspeksis/".concat(_,"/").concat(P),!1,0,n),O=H?H.Id:null,[J,X,Q]=(0,j.c)("components/".concat(M,"/").concat(O),!0,1e3,n);console.log("komp",J),(0,s.useEffect)(()=>{void 0===_||void 0===P||void 0===M?q(!0):q(!1)},[_,P,M]);let[W,G]=(0,s.useState)(!1),[$,ee]=(0,s.useState)(!1),[et,el]=(0,s.useState)(!1),[ea,es]=(0,s.useState)(!1),[en,ei]=(0,s.useState)(!1),[er,eo]=(0,s.useState)(!1),[ec,ed]=(0,s.useState)(!1),eu=e=>{ei(!0),A(e)},ex=e=>{i(!n),console.log("selec fff",e,J),window.open("".concat(l,"/").concat(e.Catatan.hasilkke),"_blank")},em=e=>{eo(!0),A(e)},ef=e=>{console.log("file",e);let t={HasilKke:e[0]};console.log("hasil KKE",t),eb(t),i(!n)},[eh,,ep,eb]=(0,f.Y)("/catatan/".concat(null==U?void 0:U.Catatan.Id),"put",null,!0),[eg,,ej,ew]=(0,f.Y)("/kke","post",null,!0),[ek,ev,eN,ey]=(0,f.Y)("/kkeKeriteria","post");(0,s.useEffect)(()=>{eg&&(ey({Fk_Keriteria:null==U?void 0:U.Id,Fk_Kke:eg.data.Id}),eo(!1),i(!n))},[eg]);let eC=(e,t)=>{let l={Nama:t,file:e[0]};console.log(l),ew(l),i(!n)},eS=e=>{G(!0),A(e)},eK=e=>{el(!0),A(e)},eI=e=>{ee(!0),A(e)},eF=e=>{es(!0),A(e)},[eZ,eE,e_]=(0,r.Y)("/predikat",!1),[eT,eP,eV,eM]=(0,f.Y)("/penilaian","post"),eD=(e,t,l)=>{let a=e.target.value;console.log("jawabannns",a,l);let s={Jawaban:a,Fk_Inspeksi:O,Fk_SubComponent:t};console.log("Update Data dfdfd",s),eM(s),i(!n)},eU={headCells:{style:{backgroundColor:"#408EFD",color:"white","&:first-child":{borderTopLeftRadius:"1rem"},"&:last-child":{borderTopRightRadius:"1rem"}}}};(0,s.useEffect)(()=>{J?(console.log("all",J.SubKomponen.every(e=>e.Keriteria.length>0&&e.Keriteria.every(e=>e.Catatan&&e.Catatan.catatan&&e.Catatan.verifikasi))),F(!0)):F(!1)},[J]);let[eA,ez]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(J){let e=J.SubKomponen.every(eq);ez(e),console.log("Komponen status",e)}else ez(!1)},[J]);let eq=e=>e.Keriteria.every(e=>null!==e.Catatan.catatan),eY=e=>!!e&&e.Keriteria.every(e=>null!==e.Catatan.catatan),eL=()=>{ee(!1),el(!1),es(!1),G(!1),ei(!1),ed(!1),i(!n)},eH=[{name:"No",selector:e=>e.nomor,sortable:!0,width:"7%"},{name:"Kriteria",selector:e=>e.keriteria,sortable:!0,wrap:!0,width:"18%"},{name:"Sesuai/Tidak",cell:t=>(0,a.jsx)("div",{className:"flex gap-2 p-2 justify-start items-start font-bold",children:t.Catatan&&"Tidak Sesuai"===t.Catatan.verifikasi?(0,a.jsx)("div",{className:"text-sm bg-red-500 rounded-lg px-2 py-1 text-white",children:(0,a.jsx)("span",{children:"Tidak Sesuai"})}):t.Catatan&&"Sesuai"===t.Catatan.verifikasi?(0,a.jsx)("div",{className:"text-sm bg-green-500 rounded-lg px-2 py-1 text-white",children:(0,a.jsx)("span",{children:"Sesuai"})}):t.Catatan&&"Sesuai Sebagian"===t.Catatan.verifikasi?(0,a.jsx)("div",{className:"text-sm bg-blue-500 rounded-lg px-2 py-1 text-white",children:(0,a.jsx)("span",{children:"Sesuai Sebagian"})}):(0,a.jsx)(a.Fragment,{children:"1"===e?(0,a.jsx)("div",{className:"flex gap-2 p-2 flex-wrap justify-start items-start",children:(0,a.jsx)("span",{className:"p-2 rounded-lg bg-slate-400 text-white font-bold ",children:"Belum Ditentukan"})}):(0,a.jsxs)("div",{className:"flex gap-2 p-2 flex-wrap justify-start items-start ",children:[(0,a.jsx)(S.Z,{className:"bg-green-500 hover:bg-green-700 p-2 px-3 rounded-xl text-center flex justify-center items-center w-full text-white font-bold",onClick:()=>eS(t),tooltip:'Set Sesuai Kriteria "'.concat(t.keriteria,'"'),disabled:"1"===e,children:"Sesuai"}),(0,a.jsx)(S.Z,{className:"bg-blue-500 hover:bg-blue-700 p-2 px-3 rounded-xl text-center flex justify-center items-center w-full text-white font-bold",onClick:()=>eK(t),tooltip:'Set Sesuai Kriteria "'.concat(t.keriteria,'"'),disabled:"1"===e,children:"Sesuai Sebagian"}),(0,a.jsx)(S.Z,{className:"bg-red-500 hover:bg-red-700 p-2 px-3 rounded-xl text-center flex justify-center items-center w-full text-white font-bold",onClick:()=>eI(t),disabled:"1"===e,tooltip:'Set Tidak Sesuai Kriteria "'.concat(t.keriteria,'"'),children:"Tidak Sesuai"})]})})}),width:"15%",maxWidth:"15%",ignoreRowClick:!0},{name:"Catatan",selector:e=>e.Catatan&&e.Catatan.catatan,sortable:!0,wrap:!0,width:"40%"}];return"3"===e&&eH.push({name:"Template KKE",cell:e=>(0,a.jsx)("div",{className:"button flex justify-center items-center text-center",children:(0,a.jsx)("div",{className:"icon p-5 px-1",children:(0,a.jsx)(S.Z,{onClick:()=>e.KkeKeriteria&&window.open("".concat(l,"/").concat(e.KkeKeriteria.Kke.file),"_blank"),className:"flex flex-col justify-center items-center bg-green-700 text-white p-2 rounded-md",tooltip:"Unduh Template Dokumen KKE",children:(0,a.jsx)(d.eEq,{className:"text-lg"})})})}),sortable:!0,width:"10%"},{name:"Hasil KKE",cell:e=>(0,a.jsx)("div",{className:"button flex justify-center items-center text-center",children:(0,a.jsx)("div",{className:"icon p-5 px-1 w-full ",children:e.Catatan.hasilkke?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex gap-2 justify-center items-center text-center w-full",children:[(0,a.jsx)(C.Z,{onClick:()=>eu(e),tooltip:'Edit Dokumen KKE "'.concat(e.keriteria,'"')}),(0,a.jsx)(v,{isVisibleUpload:en,onCloseUpload:eL,onUpload:ef,title:"Upload Hasil KKE"}),(0,a.jsx)(y.Z,{onClick:()=>ex(e),tooltip:'Lihat Dokumen Hasil KKE "'.concat(e.keriteria,'"'),className:"bg-blue-700",size:20,title:"Lihat Hasil KKE"},e.Catatan.Id)]})}):(0,a.jsxs)("div",{className:"w-full flex justify-center items-center",children:[(0,a.jsx)(S.Z,{onClick:()=>eu(e),className:"flex flex-col justify-center items-center  bg-blue-700 text-white p-2 rounded-md",tooltip:"Upload Dokumen Hasil KKE",disabled:null===e.Catatan.verifikasi||""===e.Catatan.catatan,children:(0,a.jsx)(d.xwm,{className:"text-lg"})}),(0,a.jsx)(v,{isVisibleUpload:en,onCloseUpload:()=>ei(!1),onUpload:ef,title:"Upload Hasil LKE"})]})})}),sortable:!0,width:"10%"}),"1"===e&&eH.push({name:"Template KKE",cell:e=>(0,a.jsxs)("div",{className:"flex gap-2  text-center w-full",children:[e.KkeKeriteria.Kke.file?(0,a.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,a.jsx)(C.Z,{onClick:()=>em(e),tooltip:"Edit Dokumen Template KKE"}),(0,a.jsx)(y.Z,{onClick:()=>e.KkeKeriteria&&window.open("".concat(l,"/").concat(e.KkeKeriteria.Kke.file),"_blank"),size:25,tooltip:"Lihat Dokumen Template KKE"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S.Z,{className:"bg-blue-700  p-2 rounded-md text-white flex gap-2 text-center justify-center items-center",onClick:()=>em(e),tooltip:"Upload Dokumen KKE",children:(0,a.jsx)(d.xwm,{className:"text-lg"})})}),(0,a.jsxs)(p.Z,{isVisibleSmall:er,onCloseSmall:()=>eo(!1),setIsVisibleSmall:eo,title:"Upload Hasil KKE",children:[(0,a.jsx)("h1",{className:"font-bold text-xl",children:"Upload Dokumen KKE"}),(0,a.jsx)(N,{onUpload:eC})]})]}),ignoreRowClick:!0}),"1"===e&&eH.push({name:"Actions",cell:e=>(0,a.jsx)("div",{className:"flex gap-2 ",children:(0,a.jsxs)(S.Z,{onClick:()=>eF(e),className:"bg-blue-700 rounded-xl p-3 py-2 text-white flex flex-col xl:flex-row gap-2 text-center justify-center items-center",tooltip:"Buka Edit Catatan",children:[(0,a.jsx)(d.Aac,{}),"Edit"]})}),ignoreRowClick:!0}),(0,a.jsx)("main",{className:"flex bg-[#FAFAFA] w-full flex-col items-start justify-start m-0 p-3 ",children:(0,a.jsxs)("div",{className:"mt-[10vh] overflow-y-auto w-full items-start flex flex-col justify-center h-full",children:[(0,a.jsx)(p.Z,{isVisibleSmall:W,setIsVisibleSmall:G,onCloseSmall:()=>G(!1),title:"Konfirmasi Sesuai",children:(0,a.jsx)(h,{data:U,onCloseModal:eL,Fk_Inspeksi:O})}),(0,a.jsx)(p.Z,{isVisibleSmall:ec,setIsVisibleSmall:ed,onCloseSmall:()=>ed(!1),title:"Petunjuk Pemberian Predikat",children:(0,a.jsx)("div",{className:"flex mt-2 w-full h-full",children:(0,a.jsx)("div",{className:"content px-5 py-3 flex flex-col justify-start items-center w-full",children:(0,a.jsx)("div",{className:"konten flex flex-col justify-start items-center w-full",children:(0,a.jsx)(I,{IdSubKomponen:Y})})})})}),(0,a.jsx)(u.Z,{isVisibleConfirm:ea,setIsVisibleConfirm:es,onCloseConfirm:()=>es(!1),title:"Konfirmasi Edit",children:(0,a.jsx)(w,{data:U,onCloseModal:eL,Fk_Inspeksi:O})}),(0,a.jsx)(p.Z,{isVisibleSmall:$,setIsVisibleSmall:ee,onCloseSmall:()=>ee(!1),title:"Konfirmasi Reject Kriteria",children:(0,a.jsx)(b,{data:U,onCloseModal:eL,Fk_Inspeksi:O})}),(0,a.jsx)(p.Z,{isVisibleSmall:et,setIsVisibleSmall:el,onCloseSmall:()=>el(!1),title:"Konfirmasi Set Sesuai Sebagian Kriteria",children:(0,a.jsx)(K,{data:U,onCloseModal:eL,Fk_Inspeksi:O})}),(0,a.jsx)("div",{className:"flex select-area bg-success w-full mb-5 bg-blue-500 text-white rounded-lg shadow-xl p-4 py-6",children:(0,a.jsx)(o,{onChange:(e,t)=>{"komponen"===t?(console.log(e),D(e)):"opd"===t?(console.log(e),T(e)):"tahun"===t&&(console.log(e),V(e))}})}),z?(0,a.jsx)("div",{className:"info mt-5 p-5 bg-yellow-400 w-full text-white font-bold rounded-lg",children:(0,a.jsx)("p",{children:"Silakan pilih OPD, Tahun dan Komponen Penilian"})}):(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"komponen-penilaian items-center flex xl:flex-row flex-col px-5 justify-between rounded-md text-white bg-blue-600 w-full mt-3 mb-5 shadow-md shadow-slate-600",children:[(0,a.jsx)("div",{className:"title flex justify-start items-start w-full xl:w-[75%]",children:(0,a.jsxs)("p",{className:"text-start text-xl font-bold",children:[null==J?void 0:J.nomor,". ",null==J?void 0:J.component]})}),(0,a.jsxs)("div",{className:"bobot-nilai flex gap-6 p-3 w-full xl:w-[25%] justify-end ",children:[(0,a.jsxs)("div",{className:"bobot flex justify-center items-center flex-col bg-white text-blue-800 text-center p-4 rounded-md w-[100px] h-[100px]   shadow-md shadow-slate-600",children:[(0,a.jsx)("span",{className:"font-bold",children:"Bobot"}),(0,a.jsx)("span",{className:"font-bold text-center text-3xl",children:null==J?void 0:J.bobot})]}),(0,a.jsxs)("div",{className:"nilai flex flex-col justify-center items-center bg-white text-blue-800 text-center p-4 rounded-md w-[100px] h-[100px] shadow-md shadow-slate-600",children:[(0,a.jsx)("span",{className:"font-bold",children:"Nilai"}),(0,a.jsx)("span",{className:"font-bold text-center text-3xl",children:eA?null==J?void 0:J.nilai.toFixed(2):0})]})]},null==J?void 0:J.Id)]}),(0,a.jsx)("div",{className:"w-full ps-4 flex flex-col gap-4 mb-5",children:null==J?void 0:J.SubKomponen.map((t,l)=>(0,a.jsx)("div",{className:"w-full shadow-xl rounded-lg",children:(0,a.jsxs)("div",{className:"rincian-komponen-penilaian  flex px-3 flex-col justify-between rounded-md bg-white w-full mt-3",children:[(0,a.jsxs)("div",{className:"info-and-jawaban-section flex xl:flex-row flex-col justify-between w-full gap-2 item-start py-2",children:[(0,a.jsxs)("div",{className:"title flex items-start gap-2 flex-col justify-between xl:w-[75%] w-full",children:[(0,a.jsxs)("p",{className:"text-start text-lg font-bold p-3 px-0",children:[t.nomor," ",t.nama]}),(0,a.jsxs)("div",{className:"select-jawaban flex gap-3 items-center justify-center w-full",children:[(0,a.jsx)("p",{className:"block text-sm font-medium text-gray-900 dark:text-white text-center text-nowrap",children:"Jawaban :"}),(0,a.jsx)("div",{className:"predikat w-[50%]",children:(0,a.jsx)(g.Z,{disabled:"1"===e||!eY(t),options:eZ,optionLabel:e=>e.predikat,optionValue:e=>e.predikat,onChange:e=>eD(e,t.Id,t.Penilaian.jawaban),defaultValue:t.Penilaian.jawaban,defaultText:"Pilih Predikat Jawaban"},t.Id)}),(0,a.jsxs)("div",{className:"bantuan text-sm flex gap-1 justify-start items-center cursor-help w-full",onClick:()=>{L(l+1),ed(!0)},children:[(0,a.jsx)(d.EfR,{})," Panduan Predikat"]})]})]}),(0,a.jsxs)("div",{className:"bobot-nilai flex gap-6 text-center justify-end p-3 xl:w-[25%] w-full",children:[(0,a.jsxs)("div",{className:"bobot flex flex-col justify-center items-center bg-blue-600 text-white text-center p-4 rounded-md w-[100px] h-[100px] shadow-md shadow-slate-600",children:[(0,a.jsx)("span",{className:"font-bold",children:"Bobot"}),(0,a.jsx)("span",{className:"font-bold text-3xl",children:t.bobot})]}),(0,a.jsxs)("div",{className:"nilai flex flex-col justify-center items-center bg-blue-600 text-white text-center p-4 rounded-md w-[100px] h-[100px] shadow-md shadow-slate-600",children:[(0,a.jsx)("span",{className:"font-bold",children:"Nilai"}),(0,a.jsx)("span",{className:"font-bold text-3xl",children:eY(t)?t.Penilaian.nilai.toFixed(2):0})]})]},t.Id)]}),(0,a.jsx)("div",{className:"table-container w-full gap-3",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(c.ZP,{columns:eH,data:t.Keriteria,pagination:!0,striped:!0,responsive:!0,highlightOnHover:!0,customStyles:eU},t.Id)})})]})},l))})]})]})})}},7702:function(e,t,l){"use strict";var a=l(7437);l(2265),t.Z=e=>{let{text:t,onClick:l,className:s}=e;return(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-10 rounded-full transition-all ".concat(s),type:"button",onClick:l,children:t})}},4815:function(e,t,l){"use strict";var a=l(7437);l(2265);var s=l(6408);t.Z=e=>{let{onClick:t,className:l,tooltip:n,disabled:i,children:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{"data-tooltip-id":n,"data-tooltip-content":n,children:(0,a.jsx)("button",{disabled:i,type:"button",role:"button",onClick:t,className:l,children:r})}),(0,a.jsx)(s.u,{id:n,className:"tooltip"})]})}},8981:function(e,t,l){"use strict";var a=l(7437);l(2265);var s=l(3781),n=l(6408);t.Z=e=>{let{onClick:t,className:l,tooltip:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{"data-tooltip-id":i,"data-tooltip-content":i,children:(0,a.jsx)("button",{type:"button",role:"button",onClick:t,children:(0,a.jsx)(s.Ph1,{className:"text-blue-600 hover:text-blue-800 transition-all ".concat(l),size:20})})}),(0,a.jsx)(n.u,{id:i,className:"tooltip"})]})}},4210:function(e,t,l){"use strict";var a=l(7437);l(2265);var s=l(3781),n=l(6408);t.Z=e=>{let{onClick:t,className:l,size:i,title:r,tooltip:o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{"data-tooltip-id":o,"data-tooltip-content":o,children:(0,a.jsx)("button",{type:"button",role:"button",onClick:t,title:r||"Lihat",className:"transition-all rounded-full h-max p-1 bg-blue-500 hover:bg-blue-700 ".concat(l),children:(0,a.jsx)(s.rCC,{className:"text-white",size:i||20})})}),(0,a.jsx)(n.u,{id:o,className:"tooltip"})]})}},6215:function(e,t,l){"use strict";var a=l(7437);l(2265),t.Z=e=>{let{loading:t,error:l,dataComponent:s,text:n}=e;return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{className:"bg-slate-500 h-full min-h-[300px] text-white animate-pulse w-full text-sm p-2 rounded-lg flex justify-center items-center text-center mb-5",children:n||"Loading Data..."}):l?(0,a.jsxs)("div",{className:"text-red-700 font-bold text-lg",children:["Error: ",l.message]}):(0,a.jsx)(a.Fragment,{children:s})})}},2546:function(e,t,l){"use strict";var a=l(7437);l(2265),t.Z=e=>{let{options:t,optionLabel:l,optionValue:s,onChange:n,onClick:i,defaultValue:r="",defaultText:o="Pilih ...",disabled:c,className:d,label:u}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,a.jsx)("label",{htmlFor:o,children:u}),(0,a.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(d),onChange:n,onClick:i,defaultValue:r,disabled:c,id:o,children:[(0,a.jsx)("option",{value:"",disabled:!0,id:o,children:o}),null==t?void 0:t.map(e=>(0,a.jsx)("option",{value:s(e),children:l(e)},s(e)))]})]})}},288:function(e,t,l){"use strict";var a=l(7437),s=l(2265);t.Z=e=>{let{options:t,optionLabel:l,optionValue:n,onChange:i,defaultValue:r,defaultText:o="Pilih ...",disabled:c}=e,[d,u]=(0,s.useState)(r||"");return(0,s.useEffect)(()=>{u(r||"")},[r]),(0,a.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>{u(e.target.value),i(e)},value:d,disabled:c,children:[""===r&&(0,a.jsx)("option",{value:"",children:o}),t.map(e=>(0,a.jsx)("option",{value:n(e),children:l(e)},n(e)))]})}},4200:function(e,t,l){"use strict";l.d(t,{Z:function(){return r}});var a=l(7437),s=l(2265),n=()=>{let[e,t]=(0,s.useState)(!1);return{modal:{isVisibleConfirm:e,setIsVisibleConfirm:t,onCloseConfirm:()=>t(!1)},visible:e,setVisible:t}},i=l(5097),r=e=>{let{isVisibleConfirm:t,setIsVisibleConfirm:l,onCloseConfirm:s,children:r,title:o,className:c}=e;return n(),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"\n          ".concat(t?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,a.jsx)("div",{onClick:()=>s(),className:" h-screen flex lg:w-[50%] w-[5%]  md:w-[20%]"}),(0,a.jsxs)("div",{className:" h-screen flex lg:w-[50%] w-full  flex-col justify-center ",children:[(0,a.jsx)("div",{onClick:()=>s(),className:"md:h-[50%] h-[50%] w-full"}),(0,a.jsxs)("div",{className:"h-[30%] relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black",children:[(0,a.jsxs)("div",{onClick:()=>s(),className:"z-10 h-[10%] flex justify-between items-center p-5 cursor-pointer rounded-md bg-blue-500 text-white w-full ".concat(c),children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:o}),(0,a.jsx)(i.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,a.jsx)("div",{className:"overflow-y-auto",children:r})]}),(0,a.jsx)("div",{onClick:()=>s(),className:"md:h-[50%]  h-[50%]  w-full"})]}),(0,a.jsx)("div",{onClick:()=>s(),className:" h-screen flex lg:w-[50%] w-[5%]  md:w-[20%]"})]})})}},6409:function(e,t,l){"use strict";var a=l(2265);t.Z=()=>{let[e,t]=(0,a.useState)(!1);return{modal:{isVisibleSmall:e,setIsVisibleSmall:t,onCloseSmall:()=>t(!1)},visible:e,setVisible:t}}},710:function(e,t,l){"use strict";var a=l(7437),s=l(6409),n=l(5097);t.Z=e=>{let{isVisibleSmall:t,setIsVisibleSmall:l,onCloseSmall:i,children:r,title:o}=e;return(0,s.Z)(),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"\n          ".concat(t?"z-20 top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50 flex w-screen h-screen overlow-hidden   backdrop-blur-sm":"z-20 w-[0px] top-0 right-0 bottom-0 left-0 fixed bg-black bg-opacity-50  h-screen overlow-hidden   backdrop-blur-sm hidden","\n          "),children:[(0,a.jsx)("div",{onClick:()=>i(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"}),(0,a.jsxs)("div",{className:" h-screen flex lg:w-[40%] w-full flex-col ",children:[(0,a.jsx)("div",{onClick:()=>i(),className:"md:h-[20%] h-[10%]  w-full"}),(0,a.jsxs)("div",{className:"h-full relative rounded-md bg-white w-full flex flex-col shadow-2xl shadow-black",children:[(0,a.jsxs)("div",{onClick:()=>i(),className:"z-10 h-[10%] flex justify-between items-center p-3 cursor-pointer rounded-md bg-blue-500 text-white w-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:o}),(0,a.jsx)(n.bjh,{className:"h-7 w-7 bg-red-700 text-white p-1 rounded-full hover:shadow-lg hover:-rotate-12",title:"Tutup Modal"})]}),(0,a.jsx)("div",{className:"overflow-y-auto",children:r})]}),(0,a.jsx)("div",{onClick:()=>i(),className:"md:h-[20%] h-[10%]  w-full"})]}),(0,a.jsx)("div",{onClick:()=>i(),className:" h-screen flex lg:w-[30%] w-[5%]  md:w-[20%]"})]})})}},361:function(e,t,l){"use strict";l.d(t,{H:function(){return i}});var a=l(2126);let s="",n=a.Z.create({baseURL:"https://inspektorat-be.agriciatech.com/api/v1"}),i=()=>{let e=localStorage.getItem("token");e&&(s=e,n.defaults.headers.common.Authorization="Bearer ".concat(s))};n.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),t.Z=n},9938:function(e,t,l){"use strict";l.d(t,{Y:function(){return i}});var a=l(2265),s=l(361),n=l(3580);function i(e,t,l,i){let[r,o]=(0,a.useState)(l||null),[c,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)(null),[m,f]=(0,a.useState)(null);return[r,c,u,async l=>{try{let a;d(!0);let r=localStorage.getItem("token"),c={Authorization:"Bearer ".concat(r)};switch(c["Content-Type"]="application/json",i&&(c["Content-Type"]="multipart/form-data"),console.log("post dataaa",l),t){case"post":a=await s.Z.post(e,l,{headers:c});break;case"put":a=await s.Z.put(e,l,{headers:c});break;case"delete":a=await s.Z.delete(e,{headers:c});break;default:throw Error("Unsupported HTTP method")}n.Am.success(a.data.message,{position:"top-right"}),o(a.data),console.log("response",a)}catch(e){console.log("error",e),n.Am.error(e.message,{position:"top-right"}),x(e)}finally{d(!1)}}]}},5922:function(e,t,l){"use strict";l.d(t,{Y:function(){return n}});var a=l(2265),s=l(361);function n(e,t,l){let[n,i]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,x]=(0,a.useState)();(0,a.useEffect)(()=>{null!=l&&x(l)},[l]);let m=async()=>{o(!0);try{let t=localStorage.getItem("token"),l=await s.Z.get(e,{headers:{Authorization:"Bearer ".concat(t)}});i(l.data.data),d(null)}catch(e){d(e)}finally{o(!1)}};return(0,a.useEffect)(()=>{if(t){let e=setInterval(m,1e3);return()=>{clearInterval(e)}}m()},[e,t]),(0,a.useEffect)(()=>{m()},[u]),[n,r,c]}},5039:function(e,t,l){"use strict";l.d(t,{c:function(){return n}});var a=l(2265),s=l(361);function n(e,t,l,n){let[i,r]=(0,a.useState)(),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[x,m]=(0,a.useState)();(0,a.useEffect)(()=>{null!=n&&m(n)},[n]);let f=async()=>{try{let t=localStorage.getItem("token"),l=await s.Z.get(e,{headers:{Authorization:"Bearer ".concat(t)}}),a=l.data.data?l.data.data:l.data;r(a),console.log(i)}catch(e){u(e)}finally{c(!1)}};return(0,a.useEffect)(()=>{f()},[x,e]),(0,a.useEffect)(()=>{if(t){let e=setInterval(f,l);return console.log("datasss",i),()=>clearInterval(e)}},[f,t,e]),[i,o,d]}}},function(e){e.O(0,[5706,1779,2126,6713,9343,9500,6408,2971,7023,1744],function(){return e(e.s=2472)}),_N_E=e.O()}]);