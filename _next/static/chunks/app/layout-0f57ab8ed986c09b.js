(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{2806:function(e,t,l){Promise.resolve().then(l.bind(l,3640))},3640:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return k}});var n=l(7437),s=l(2265),i=l(1444),a=l(9753),o=l(8831),r=l(8978);let c=(0,a.xC)({reducer:{navbar:o.ZP,reload:r.ZP}});var u=function(e){let{children:t}=e;return(0,n.jsx)(i.zt,{store:c,children:t})};l(3054);var d=l(6463),m=l(7261),x=l(7138);l(6964);var f=l(1827);l(3340);var h=()=>{let[e,t]=(0,s.useState)(!1),[l,n]=(0,s.useState)(!1);return{iconVariants:{open:{rotate:0,transition:{type:"spring",stiffness:260,damping:20}},closed:{rotate:180,transition:{type:"spring",stiffness:260,damping:20}}},toggleMenu:()=>{n(!l)},showMenu:l,setShowMenu:n,modal:{isVisible:e,setIsVisible:t,onClose:()=>t(!1)},visible:e,setVisible:t}},v=l(3580);l(4193);var g=l(361),w=()=>{let[e,t]=(0,s.useState)([]),[l,n]=(0,s.useState)(!1),a=(0,d.useRouter)();(0,s.useEffect)(()=>{n(!0)},[]);let r=async()=>{try{let e=await g.Z.get("/menu",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});t(e.data.data)}catch(e){console.error("Error fetching menu:",e),a.push("/login"),localStorage.removeItem("token")}},c=(0,d.usePathname)(),[u,m]=(0,s.useState)(0),[x,f]=(0,s.useState)(!1),h=(0,i.I0)(),v=e=>e.replace(/\b\w/g,e=>e.toUpperCase()),w=e=>{h((0,o.wC)(e))},b=()=>{let e=c.split("/");return e.length<3?null:v(e[2].replace(/_/g," "))},j=()=>{if("/"!==c){let e=c.split("/"),t=v((e.length>1?e[1]:"Dashboard").replace(/[_]/g," "));w(t),console.log("Next button active:",t)}else w("Dashboard")},p=(0,i.v9)(e=>{var t;return null===(t=e.navbar)||void 0===t?void 0:t.activeRoute});return(console.log("Active route:",p),(0,s.useEffect)(()=>{j(),b(),r(),m(window.innerHeight),console.log("Window inner height:",window.innerHeight),console.log("Second segment:",b());let e=()=>{m(window.innerHeight)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[c]),l)?{menu:e.map(e=>{var t;return{icon:e.icon,iconActive:e.active_icon,name:e.menu,link:e.path,subMenu:null===(t=e.SubMenu)||void 0===t?void 0:t.map(e=>({nama:e.subMenu,link:e.path}))}}),activeRoute:p,pathName:c,patchRoute:w,secondSegment:b(),extend:x,setExtend:f,innerHeight:u,setInnerHeight:m}:null},b=e=>{var t;let{isVisible:l,setIsVisible:s,onClose:i}=e;(0,d.useRouter)();let a=w();return h(),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(l?" z-20  fixed lg:hidden flex w-full h-full overlow-hidden duration-500 flex-row backdrop-blur-sm justify-end ":" z-20 fixed w-[0] h-full md:hidden flex duration-500 justify-end "," mt-[10vh] "),children:[(0,n.jsx)("div",{onClick:()=>i(),className:"".concat(l?"bg-black md:w-full w-1/3 duration-500 ":" bg-black h-full w-0 duration-500 ","  bg-opacity-50 h-full ")}),(0,n.jsx)("div",{className:"".concat(l?" bg-white md:w-1/3 w-full pr-2 h-full flex border-tl-8 items-start justify-between duration-500 flex-col":" bg-white h-full w-0 flex duration-500 flex-col","   "),children:(0,n.jsxs)("div",{className:"".concat(l?"overflow-y-scroll":"hidden"," h-[85%] bottom-10 pt-5 md:pb-10 pb-0 flex items-start flex-col"),children:[null==a?void 0:null===(t=a.menu)||void 0===t?void 0:t.map((e,t)=>{var l,s,i,o,r;return(0,n.jsxs)("div",{className:"flex-col w-full flex justify-start items-center px-5 ",children:[(null===(l=e.subMenu)||void 0===l?void 0:l.length)==null||(null===(s=e.subMenu)||void 0===s?void 0:s.length)==0?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.default,{href:e.link,className:"".concat(e.name===a.activeRoute?"active flex w-full bg-[#F1F5FF] px-5 my-2 py-3 flex-row justify-start items-center":"flex w-full bg-white my-2 py-3 flex-row justify-start items-center"),children:[e.name===a.activeRoute?(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.iconActive}):(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.icon}),(0,n.jsx)("h5",{className:"".concat(e.name===a.activeRoute?"lg:text-base md:text-xs active font-bold text-[#0558FC] cursor-pointer":"lg:text-base md:text-xs font-normal text-[#A2A2A2] cursor-pointer"," hover:text-neutral-500 "),children:e.name})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.default,{href:"".concat(e.link).concat((null==e?void 0:e.subMenu)&&(null===(i=e.subMenu[0])||void 0===i?void 0:i.link)),onClick:()=>{let t=a.activeRoute===e.name;a.setExtend(!!t&&!a.extend)},className:"".concat(e.name===a.activeRoute?"active flex w-full bg-[#F1F5FF] my-2 py-3 flex-row justify-start items-center":"flex w-full bg-white my-2 py-3 flex-row justify-start items-center"),children:[e.name===a.activeRoute?(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.iconActive}):(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.icon}),(0,n.jsx)("h5",{className:"".concat(e.name===a.activeRoute?"lg:text-base md:text-xs active font-bold text-[#0558FC] cursor-pointer":"lg:text-base md:text-xs font-normal text-[#A2A2A2] cursor-pointer"," hover:text-neutral-500 "),children:e.name})]})}),(null==e?void 0:e.subMenu)&&(null===(o=e.subMenu)||void 0===o?void 0:o.length)>0&&a.activeRoute===e.name&&(0,n.jsx)("div",{className:"duration-500 fade-in w-full border-l-4 border-[#408EFD]  flex flex-col",children:null===(r=e.subMenu)||void 0===r?void 0:r.map((t,l)=>(0,n.jsx)(x.default,{href:"".concat(e.link).concat(t.link),className:"w-full justify-start px-5 items-center flex py-2",children:(0,n.jsx)("p",{className:"".concat(t.nama===a.secondSegment?"lg:text-base md:text-xs active font-bold text-[#0558FC] cursor-pointer":"lg:text-base md:text-xs font-normal text-[#A2A2A2] cursor-pointer"," hover:text-neutral-500 "),children:t.nama})},l))})]},t)}),(0,n.jsx)("div",{className:"w-full justify-start px-5 items-center flex py-2 ",children:(0,n.jsxs)(x.default,{href:"/",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("roleId"),window.location.reload(),v.Am.success("Berhasil Logout! | Terima kasih",{position:"top-right"})},className:"w-full text-[#A2A2A2] justify-start items-center  flex py-2",children:[" ",(0,n.jsx)("div",{children:(0,n.jsx)(m.Iw6,{className:"mr-2"})}),"Log Out"]})})]})})]})})},j=l(5027),p=l(5097),y=()=>{let e=w(),t=h();return(0,i.I0)(),console.log(null==e?void 0:e.activeRoute),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{isVisible:t.modal.isVisible,setIsVisible:t.modal.setIsVisible,onClose:()=>t.modal.setIsVisible(!1)}),(0,n.jsx)("div",{className:"width p-7 fixed sm:ml-0 flex  h-[10vh] w-full border-b-[1px] border-[#A2A2A2] md:w-[100%]  bg-[#FFFFFF] z-10",children:(0,n.jsxs)("div",{className:" w-full flex flex-row justify-between",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("h5",{className:"text-[#408EFD] text-lg font-bold lg:flex hidden",children:"".concat(null==e?void 0:e.activeRoute," ").concat((null==e?void 0:e.secondSegment)!==null?"| ".concat(null==e?void 0:e.secondSegment):"")}),(0,n.jsx)("div",{className:"lg:hidden flex justify-center items-center pr-3",children:(0,n.jsx)("img",{className:"w-10 h-10`",src:"/logo.png",loading:"lazy",alt:"logo"})}),(0,n.jsx)("div",{className:"lg:w-15 lg:hidden flex justify-center items-center",children:(0,n.jsx)("h3",{className:"text-2xl font-semibold",children:"SEBESI"})})]}),(0,n.jsx)("div",{className:"lg:flex hidden  justify-center items-center",children:(0,n.jsx)(x.default,{href:"/",onClick:()=>window.location.reload(),children:(0,n.jsx)(m.Iw6,{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("roleId"),v.Am.success("Berhasil Logout! | Terima kasih",{position:"top-right"})},className:"w-6 h-6"})})}),(0,n.jsx)("div",{className:"lg:hidden flex flex-row  h-full justify-end items-center lg:w-3/4 w-1/2",children:(0,n.jsx)(f.E.div,{onClick:()=>{t.modal.setIsVisible(!t.modal.isVisible),t.toggleMenu()},className:"flex  items-center  cursor-pointer  p-2",variants:t.iconVariants,initial:!1,animate:t.showMenu?"open":"closed",children:!0==t.modal.isVisible?(0,n.jsx)(p.IOM,{className:"z-30 text-blue-500 w-9 h-9"}):(0,n.jsx)(j.vHB,{className:"z-30  text-blue-500 w-7 h-7"})})})]})})]})};l(2819);var N=()=>{var e;let t=w();return(0,n.jsxs)("div",{className:"lg:w-96 bg-[#FAFAFAF] lg:flex hidden flex-col duration-500 min-h-screen border-r-[1px] border-[#A2A2A2]",children:[(0,n.jsxs)("div",{className:"fixed w-full bg-[#FFFFFF] xl:w-[18rem] lg:w-[17rem] justify-start pl-7 flex h-[10vh]",children:[(0,n.jsx)("div",{className:" flex justify-center items-center pr-3",children:(0,n.jsx)("img",{className:"w-10 h-10`",src:"/logo.png",alt:"logo",loading:"lazy"})}),(0,n.jsx)("div",{className:"lg:w-15 flex justify-center items-center",children:(0,n.jsx)("h3",{className:"text-2xl font-semibold",children:"SEBESI"})})]}),(0,n.jsx)("div",{className:"overflow-y-auto w-full flex-col  pt-[10vh] pb-10  h-full",children:null==t?void 0:null===(e=t.menu)||void 0===e?void 0:e.map((e,l)=>{var s,i,a,o,r;return(0,n.jsxs)("div",{className:"flex-col flex justify-start items-center px-5 ",children:[(null===(s=e.subMenu)||void 0===s?void 0:s.length)==null||(null===(i=e.subMenu)||void 0===i?void 0:i.length)==0?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.default,{href:e.link,className:"".concat(e.name===(null==t?void 0:t.activeRoute)?"active flex w-full bg-[#F1F5FF] px-2 my-2 py-3 flex-row justify-start items-center":"flex w-full bg-white my-2 py-3 flex-row justify-start items-center"),children:[e.name===(null==t?void 0:t.activeRoute)?(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.iconActive}):(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.icon}),(0,n.jsx)("h5",{className:"".concat(e.name===(null==t?void 0:t.activeRoute)?"lg:text-base md:text-xs active font-bold text-[#0558FC] cursor-pointer":"lg:text-base md:text-xs font-normal text-[#A2A2A2] cursor-pointer"," hover:text-neutral-500 "),children:e.name})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.default,{href:"".concat(e.link).concat((null==e?void 0:e.subMenu)&&(null===(a=e.subMenu[0])||void 0===a?void 0:a.link)),onClick:()=>{let l=(null==t?void 0:t.activeRoute)===e.name;null==t||t.setExtend(!!l&&!(null==t?void 0:t.extend))},className:"".concat(e.name===(null==t?void 0:t.activeRoute)?"active flex w-full bg-[#F1F5FF] my-2 py-3 flex-row justify-start items-center":"flex w-full bg-white my-2 py-3 flex-row justify-start items-center"),children:[e.name===(null==t?void 0:t.activeRoute)?(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.iconActive}):(0,n.jsx)("img",{className:"w-5 h-5 mr-2",src:e.icon}),(0,n.jsx)("h5",{className:"".concat(e.name===(null==t?void 0:t.activeRoute)?"lg:text-base md:text-xs active font-bold text-[#0558FC] cursor-pointer":"lg:text-base md:text-xs font-normal text-[#A2A2A2] cursor-pointer"," hover:text-neutral-500 "),children:e.name})]})}),(null==e?void 0:e.subMenu)&&(null===(o=e.subMenu)||void 0===o?void 0:o.length)>0&&(null==t?void 0:t.activeRoute)===e.name&&(0,n.jsx)("div",{className:"duration-500 fade-in w-full border-l-4 border-[#408EFD]  flex flex-col",children:null===(r=e.subMenu)||void 0===r?void 0:r.map((l,s)=>(0,n.jsx)(x.default,{href:"".concat(e.link).concat(l.link),className:"w-full py-2 justify-start px-5 items-center flex py-2",children:(0,n.jsx)("p",{className:"".concat(l.nama===(null==t?void 0:t.secondSegment)?"lg:text-base md:text-xs active font-bold text-[#0558FC] cursor-pointer":"lg:text-base md:text-xs font-normal text-[#A2A2A2] cursor-pointer"," hover:text-neutral-500 "),children:l.nama})},s))})]},l)})})]})};let F=e=>{let{children:t}=e,l=(0,d.usePathname)(),a=d.redirect,o=(0,d.useSelectedLayoutSegment)(),[c,u]=(0,s.useState)(!1),m=(0,i.I0)();(0,s.useEffect)(()=>{u(!0)},[]),(0,s.useEffect)(()=>{null!=o||["/","/login","/forgot_password"].includes(l)||(m((0,r.y0)(!0)),a("/"))},[o,l,a,m]);let x=["/forgot_password","/login"].includes(l);return c?(0,n.jsxs)("div",{className:"flex h-screen overflow-hidden w-full",children:[!x&&(0,n.jsx)(N,{}),(0,n.jsxs)("div",{className:"flex flex-col w-[100%] overflow-x-hidden",children:[!x&&(0,n.jsx)(y,{}),t]})]}):null};var A=l(8507);function k(e){let{children:t}=e;return(0,A.R)(),(0,s.useEffect)(()=>{let e=e=>{/Loading chunk [\d]+ failed/.test(e.message)&&confirm("Terjadi kesalahan saat memuat halaman. Apakah Anda ingin memuat ulang halaman?")&&window.location.reload()};return window.addEventListener("error",e),()=>{window.removeEventListener("error",e)}},[]),(0,n.jsx)("html",{lang:"en",children:(0,n.jsxs)("body",{children:[(0,n.jsx)(u,{children:(0,n.jsx)(F,{children:t})}),(0,n.jsx)(v.Ix,{})]})})}},8507:function(e,t,l){"use strict";l.d(t,{R:function(){return i}});var n=l(2265),s=l(6463);let i=()=>{let e=(0,s.useRouter)(),t=(0,s.usePathname)(),[l,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{i(!0)},[]),(0,n.useEffect)(()=>{l&&(localStorage.getItem("token")?"/login"===t&&e.push("/"):"/login"!==t&&e.push("/login"))},[l,e,t])}},8978:function(e,t,l){"use strict";l.d(t,{y0:function(){return s}});let n=(0,l(9753).oM)({name:"reload",initialState:{activeState:!1},reducers:{setActiveReload:(e,t)=>{e.activeState=t.payload}}}),{setActiveReload:s}=n.actions;t.ZP=n.reducer},8831:function(e,t,l){"use strict";l.d(t,{wC:function(){return s}});let n=(0,l(9753).oM)({name:"navbar",initialState:{activeRoute:"Dashboard"},reducers:{setActiveRoute:(e,t)=>{e.activeRoute=t.payload}}}),{setActiveRoute:s}=n.actions;t.ZP=n.reducer},361:function(e,t,l){"use strict";l.d(t,{H:function(){return a}});var n=l(2126);let s="",i=n.Z.create({baseURL:"https://inspektorat-be.agriciatech.com/api/v1"}),a=()=>{let e=localStorage.getItem("token");e&&(s=e,i.defaults.headers.common.Authorization="Bearer ".concat(s))};i.interceptors.request.use(e=>(e.headers.Accept="application/json",e)),t.Z=i},3054:function(){},6964:function(){},2819:function(){},3340:function(){}},function(e){e.O(0,[392,5706,9212,5505,2126,9500,8811,3213,6269,2971,7023,1744],function(){return e(e.s=2806)}),_N_E=e.O()}]);